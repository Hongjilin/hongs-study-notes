# #è¯´æ˜

>1. æœ¬ç¬”è®°ä¸ºè§‚çœ‹æ…•è¯¾ç½‘[`å¾®ä¿¡å°ç¨‹åºå…¥é—¨ä¸å®æˆ˜-å…¨æ–°ç‰ˆ`](https://coding.imooc.com/class/75.html)ã€[`å°šç¡…è°·2021ç‰ˆå¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼ˆé›¶åŸºç¡€å°ç¨‹åºå¼€å‘å…¥é—¨åˆ°ç²¾é€šï¼‰`](https://www.bilibili.com/video/BV12K411A7A2?share_source=copy_web)è¿™ä¸¤ä¸ªæ•™å­¦è§†é¢‘ã€å¹¶å‚ç…§ [`å®˜æ–¹çš„å¾®ä¿¡å¼€æ”¾æ–‡æ¡£`](https://developers.weixin.qq.com/miniprogram/dev/framework/) è®°å½•æ•´ç†è€Œæˆ
>2. æœ¬äººé€‰æ‹©çš„ä¸¤ä¸ªæ•™å­¦è§†é¢‘ä¸»è¦å°±æ˜¯æ˜¯`é¢å‘åˆå­¦è€…`çš„æ•™å­¦è§†é¢‘,ç”¨çš„åŸç”Ÿjsè¿›è¡Œè®²è§£,é—¨æ§›å¾ˆä½,æ‰€ä»¥è¯¥ç¬”è®°ä¼šå°†åŸºç¡€éƒ¨åˆ†ä¹Ÿè®°å½•çš„è¾ƒä¸ºè¯¦ç»†,ä½†æœ‰åŸºç¡€çš„æœ‹å‹ä¹Ÿå¯ä»¥åŒæ—¶å½“ä½œæ¢³ç†åŸºç¡€çŸ¥è¯†,å­¦ä¹ è¿‡ç¨‹è‚¯å®šä¹Ÿä¼šæ›´æ¸…æ™°ã€åŒæ—¶ä¹Ÿä¼šæœ‰è‡ªå·±ä¸ä¸€æ ·çš„ç†è§£ã€‚å¯¹äºç¬”è®°å†…å®¹æœ‰ç–‘é—®çš„æ¬¢è¿æå‡ºè®¨è®º,æœ›æ±‚åŒå­˜å¼‚å…±åŒè¿›æ­¥
>3. éœ€è¦é¢„å¤‡çŸ¥è¯†ç‚¹-->[`HTML+CSS+JSåŸºç¡€`](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°)-->**[ç‚¹æˆ‘ä¼ é€](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°)** 
>4. æœ¬ç¬”è®°åº”æ˜¯`å°ç¨‹åºè¯¦ç»†å­¦ä¹ ç¬”è®°`,ä¸»è¦è®°å½•å°ç¨‹åºåŸºç¡€çŸ¥è¯†,åç»­æœ‰è¡¥å……çŸ¥è¯†ç‚¹ä¹Ÿå°†æ›´æ–°è‡³æ­¤ç¬”è®°
>5. éƒ¨åˆ†çŸ¥è¯†ç‚¹åœ¨å®˜æ–¹æ–‡æ¡£å¾ˆè¯¦ç»†(å¦‚`apiéƒ¨åˆ†`),æœ€å¥½è¿˜æ˜¯å…ˆçœ‹å®˜æ–¹æ–‡æ¡£,æœ¬ç¬”è®°ä¸»è¦å°±æ˜¯è®°å½• å­¦ä¹ è¿‡ç¨‹ä¸­å‡ºç°çš„ã€éœ€è¦å¢åŠ çš„æ³¨è§£ã€æ–‡æ¡£ä¸­æ²¡æœ‰çš„ç»†èŠ‚ã€å„ç§çŸ¥è¯†ç‚¹çš„å®é™…ç”¨æ³•ç¤ºä¾‹ã€é‡åˆ°çš„é—®é¢˜è§£å†³è®°å½•ç­‰ç­‰ç­‰........
>
>é™¤æ­¤ç¬”è®°å¤–å¤§å®¶å¯ä»¥çœ‹æˆ‘å…¶ä»–ç¬”è®° :**[å…¨æ ˆç¬”è®°](https://gitee.com/hongjilin/hongs-study-notes/tree/master)**ã€**[ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°)**ã€**[Vueç¬”è®°æ•´åˆ](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/Vueç¬”è®°æ•´åˆ)** ã€**[Reactç¬”è®°](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/Reactç¬”è®°)**ã€ **[ReactHooksç¬”è®°](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/ReactHooksç¬”è®°)** ã€**[å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°)**ã€**[Chromeå¼€å‘ä½¿ç”¨åŠå­¦ä¹ ç¬”è®°](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/Chromeå¼€å‘ä½¿ç”¨åŠå­¦ä¹ ç¬”è®°)** ä»¥åŠè®¸å¤šå…¶ä»–ç¬”è®°å°±ä¸ä¸€ä¸€ä¾‹ä¸¾äº†
>
>æœ¬äººè¯¾ç¨‹æºç åˆ†äº«:[`æºç åœ°å€`](https://gitee.com/hongjilin/wechat-applet-demo-source-code)
>
>â€‹										ç¬”è®°å¼€å¯æ—¶é—´:2021/4/20

# #ç›®å½•

>[TOC]

------



# ä¸€ã€åˆè¯†å¾®ä¿¡å°ç¨‹åº

## 1ã€ä»€ä¹ˆæ˜¯å¾®ä¿¡å°ç¨‹åº

### â… -å°ç¨‹åºå†å²

>1. 2017 å¹´åº¦ç™¾åº¦ç™¾ç§‘åå¤§çƒ­è¯ä¹‹ä¸€ 
>2. å¾®ä¿¡å°ç¨‹åºï¼Œç®€ç§°å°ç¨‹åºï¼Œè‹±æ–‡å Mini Programï¼Œæ˜¯ä¸€ç§ä¸éœ€è¦ä¸‹è½½å®‰è£…å³å¯ä½¿ç”¨çš„åº”ç”¨ (`å¼ å°é¾™å¯¹å…¶çš„å®šä¹‰æ˜¯æ— éœ€å®‰è£…,ç”¨å®Œå³èµ°,å®é™…ä¸Šæ˜¯éœ€è¦å®‰è£…çš„,åªä¸è¿‡å°ç¨‹åºçš„ä½“ç§¯ç‰¹åˆ«å°,ä¸‹è½½é€Ÿåº¦å¾ˆå¿«,ç”¨æˆ·æ„Ÿè§‰ä¸åˆ°ä¸‹è½½çš„è¿‡ç¨‹` ) 
>3. å°ç¨‹åºåˆšå‘å¸ƒçš„æ—¶å€™è¦æ±‚å‹ç¼©åŒ…çš„ä½“ç§¯ä¸èƒ½å¤§äº 1M,ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ï¼Œåœ¨2017å¹´4æœˆåšäº†æ”¹è¿›ï¼Œç”±åŸæ¥çš„1Mæå‡åˆ°2Mï¼›
>4. 2017å¹´1æœˆ9æ—¥0ç‚¹ï¼Œä¸‡ä¼—ç©ç›®çš„å¾®ä¿¡ç¬¬ä¸€æ‰¹å°ç¨‹åºæ­£å¼ä½è°ƒä¸Šçº¿ã€‚

### â…¡-å°ç¨‹åºçš„ä¼˜åŠ¿

>1. å¾®ä¿¡æœ‰æµ·é‡â½¤â¼¾ï¼Œâ½½ä¸”ç²˜æ€§å¾ˆâ¾¼ï¼Œåœ¨å¾®ä¿¡â¾¥å¼€å‘äº§å“æ›´å®¹æ˜“è§¦è¾¾â½¤â¼¾ï¼›
>2. æ¨â¼´app æˆ–å…¬ä¼—å·çš„æˆæœ¬å¤ªâ¾¼ã€‚ 
>3. å¼€å‘é€‚é…æˆæœ¬ä½ã€‚
>4. å®¹æ˜“â¼©è§„æ¨¡è¯•é”™ï¼Œç„¶åå¿«é€Ÿè¿­ä»£ã€‚
>5. è·¨å¹³å°ã€‚

## 2ã€å°ç¨‹åºå‡†å¤‡

### â… -ç¯å¢ƒå‡†å¤‡

>1. [å®‰è£…å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html),å»ºè®®å®‰è£…ç¨³å®šç‰ˆè¿›è¡Œå¼€å‘
>
>2. æ³¨å†Œå°ç¨‹åºè´¦å·
>
>3. ä½¿ç”¨æ³¨å†Œçš„appidè¿›è¡Œä½¿ç”¨ï¼Œå¦‚æœæ˜¯æµ‹è¯•å·ä¼šé™åˆ¶å¾ˆå¤šåŠŸèƒ½
>
>   åœ¨å®˜ç½‘[ç™»å½•](https://mp.weixin.qq.com/)æˆåŠŸåå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç•Œé¢ï¼Œç„¶åå¤åˆ¶ä½ çš„APPID,æ‚„æ‚„çš„ä¿å­˜èµ·æ¥ï¼Œ`ä¸è¦ç»™åˆ«â¼ˆçœ‹åˆ°`ğŸ˜„ã€‚![image-20210420175717770](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210420175717770.png)![image-20210420175813507](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210420175813507.png)

### â…¡-æ–°å»ºå°ç¨‹åºæµç¨‹

>1. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç¬¬ä¸€æ¬¡æ‰“å¼€éœ€è¦æ‰«ç ç™»é™†
>
>2. æ–°å»ºå°ç¨‹åºé¡¹ç›®
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210420180254814.png" alt="image-20210420180254814" style="zoom: 80%;" />
>
>3. å¡«å†™é¡¹ç›®ä¿¡æ¯
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210420180344226.png" alt="image-20210420180344226" style="zoom:80%;" />
>
>4. æ–°å»ºæˆåŠŸ

### â…¢-å¾®ä¿¡å¼€å‘è€…å·¥å…·ä»‹ç»

#### 1ï¼‰å¼€å‘å·¥å…·ç•Œé¢å›¾è§£

>è¯¦ç»†çš„ä½¿â½¤ï¼Œå¯ä»¥æŸ¥çœ‹[å®˜â½¹](https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html):
>
>![image-20210420181145002](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/å¾®ä¿¡å¼€å‘è€…å·¥å…·æ³¨é‡Šå›¾.png)

#### 2ï¼‰å¼€å‘å·¥å…·çš„ä¸€äº›åŸºæœ¬é…ç½®

>1. ç‚¹å‡»`å·¥å…·æ `-->`è¯¦æƒ…`-->`æœ¬åœ°è®¾ç½®`ï¼Œé™¤äº†é»˜è®¤å‹¾é€‰ï¼Œéœ€è¦å‹¾é€‰å…¶ä»–çš„å‡ ä¸ªå¦‚ï¼šå¢å¼ºç¼–è¯‘ã€ä¸æ ¡éªŒåˆæ³•åŸŸå...
>
>  ![image-20210420183249939](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/å¾®ä¿¡å¼€å‘å·¥å…·çš„è¯¦æƒ…_æœ¬åœ°é…ç½®æ³¨è§£å›¾.png)
>
>2. å¸¸ç”¨å¿«æ·é”®`keyMapä¿®æ”¹`è®¾ç½®(æœ¬äººä¹ æƒ¯è®°å½•)ï¼š
>
>     1. `ctrl+P`ï¼šå…¨å±€æœç´¢
>
>     2. `alt+/`or `shift+j`:ä»£ç æç¤º
>
>        ![image-20210421141701374](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210421141701374.png)

### â…£-å¾®ä¿¡å°ç¨‹åºåç§°æˆ–è€…åŸå§‹idè¯¥å¦‚ä½•æ‰¾å›ï¼Ÿ

>é—®é¢˜æè¿°ï¼šå¾ˆä¹…æ²¡æœ‰è¿›è¡Œå¼€å‘äº†ï¼Œå°ç¨‹åºçš„åç§°è·ŸåŸå§‹idéƒ½å¿˜è®°äº†ï¼Œæ‰¾å›éœ€è¦å…ˆå¡«å†™,å¦‚ä½•è§£å†³
>
>è§£å†³ï¼šé¦–å…ˆ[`æŸ¥è¯¢è‡ªå·±çš„åŸå§‹id`](https://developers.weixin.qq.com/community/develop/doc/000ea0f82d4f58b41589642b456809),åœ¨è¿™ä¸ªç½‘ç«™èƒ½æŸ¥è¯¢åˆ°è‡ªå·±çš„åŸå§‹idï¼Œå†é€šè¿‡è¿™ä¸ªåŸå§‹idè¿›è¡Œæ‰¾å›



------

# äºŒã€å°ç¨‹åºçš„åŸºæœ¬ç›®å½•ç»“æ„ä¸æ–‡ä»¶ä½œç”¨å‰–æ

>[å°ç¨‹åºæ¡†æ¶](https://developers.weixin.qq.com/miniprogram/dev/framework/MINA.html)çš„â½¬æ ‡æ˜¯é€šè¿‡å°½å¯èƒ½ç®€å•ã€â¾¼æ•ˆçš„â½…å¼è®©å¼€å‘è€…å¯ä»¥åœ¨å¾®ä¿¡ä¸­å¼€å‘å…·æœ‰åŸâ½£APPä½“éªŒçš„æœåŠ¡ã€‚ 
>
>â¼©ç¨‹åºæ¡†æ¶æä¾›äº†â¾ƒâ¼°çš„è§†å›¾å±‚æè¿°è¯­â¾” `WXML å’Œ WXSS` ï¼Œä»¥åŠ JavaScript ï¼Œå¹¶`åœ¨è§†å›¾å±‚ä¸é€»è¾‘å±‚é—´æä¾›äº†æ•°æ®ä¼ è¾“å’Œäº‹ä»¶ç³»ç»Ÿ`ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºæ•°æ®ä¸é€»è¾‘ã€‚

## 1ã€å°ç¨‹åºæ–‡ä»¶ç»“æ„å’Œä¼ ç»Ÿwebå¯¹æ¯”

>|                | ä¼ ç»Ÿweb    | å¾®ä¿¡å°ç¨‹åº |
>| -------------- | ---------- | ---------- |
>| é¡¹ç›®éª¨æ¶ã€ç»“æ„ | HTML       | WXML       |
>| é¡µé¢æ ·å¼       | CSS        | WXSS       |
>| é¡¹ç›®é€»è¾‘       | Javascript | Javascript |
>| é…ç½®           | æ—          | JSON       |
>
>1. é€šè¿‡ä»¥ä¸Šå¯¹â½å¾—å‡ºä¼ ç»Ÿwebæ˜¯`ä¸‰å±‚ç»“æ„`ã€‚â½½å¾®ä¿¡â¼©ç¨‹åºæ˜¯`å››å±‚ç»“æ„`ï¼Œå¤šäº†â¼€å±‚`é…ç½®.json`
>
>2. å½“è¿™å‡ ä¸ªæ–‡ä»¶åœ¨åŒä¸€çº§ç›®å½•ä¸‹ä¸”å‘½åç›¸åŒ(åç¼€ä¸åŒ),å¯ä»¥äº’ç›¸å¼•ç”¨å´ä¸ç”¨å¯¼å…¥

## 2ã€åŸºæœ¬çš„é¡¹ç›®ç›®å½•

### â… -é¡¹ç›®ç›®å½•è§£é‡Š

>1. é¡¹ç›®ç›®å½•å›¾è§£:
>
>  <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/åŸºæœ¬çš„é¡¹ç›®ç›®å½•å›¾ä¾‹.png" alt="image-20210420190111436" style="zoom: 67%;" />
>
>2. ä»¥`app`å¼€å¤´çš„æ–‡ä»¶æ˜¯åº”ç”¨ç¨‹åºçº§åˆ«çš„æ–‡ä»¶,æ›´æ”¹ä¸€å¤„å…¨å±€ç”Ÿæ•ˆã€‚è€Œé¡µé¢`pages`çš„é…ç½®ä¼˜å…ˆçº§é«˜äºå…¨å±€é…ç½®(`å°±è¿‘åŸåˆ™`)
>3. å°ç¨‹åºæ˜¯å…è®¸ä½ ä¿®æ”¹æ–‡ä»¶ç›®å½•åçš„



## 3ã€å°ç¨‹åºé…ç½®æ–‡ä»¶

> â¼€ä¸ªâ¼©ç¨‹åºåº”â½¤ç¨‹åºä¼šåŒ…æ‹¬æœ€åŸºæœ¬çš„ä¸¤ç§é…ç½®â½‚ä»¶ã€‚â¼€ç§æ˜¯å…¨å±€çš„app.json å’Œ â»šâ¾¯â¾ƒâ¼°çš„page.json

### â… -[å…¨å±€é…ç½®app.json](https://developers.weixin.qq.com/miniprogram/dev/framework/config.html)

>1. `app.json` æ˜¯å½“å‰â¼©ç¨‹åºçš„å…¨å±€é…ç½®ï¼ŒåŒ…æ‹¬äº†â¼©ç¨‹åºçš„æ‰€æœ‰â»šâ¾¯è·¯å¾„ã€ç•Œâ¾¯è¡¨ç°ã€â½¹ç»œè¶…æ—¶æ—¶é—´ã€åº•éƒ¨tabç­‰ã€‚æ™®é€šå¿«é€Ÿå¯åŠ¨é¡¹â½¬â¾¥è¾¹çš„ app.json é…ç½®
>
>2. ä»£ç 
>
>  ```json
>  {
>    "pages":[
>      "pages/index/index",
>      "pages/logs/logs"
>   ],
>    "window":{
>      "backgroundTextStyle":"light",
>      "navigationBarBackgroundColor": "#fff",
>      "navigationBarTitleText": "WeChat",
>      "navigationBarTextStyle":"black"
>   }
>  }
>  ```
>
>3. å­—æ®µçš„å«ä¹‰
>
>     1ï¼‰pages å­—æ®µâ¸ºâ½¤äºæè¿°å½“å‰â¼©ç¨‹åºæ‰€æœ‰â»šâ¾¯è·¯å¾„ï¼Œè¿™æ˜¯ä¸ºäº†è®©å¾®ä¿¡å®¢â¼¾ç«¯çŸ¥é“å½“å‰ä½ çš„â¼©ç¨‹åºâ»šâ¾¯å®šä¹‰åœ¨å“ªä¸ªâ½¬å½•ã€‚ 
>
>â€‹	`é»˜è®¤æ˜¾ç¤ºæ­¤å­—æ®µä¸­çš„ç¬¬ä¸€é¡¹`
>
> â€‹	2ï¼‰window å­—æ®µâ¸ºå®šä¹‰â¼©ç¨‹åºæ‰€æœ‰â»šâ¾¯çš„é¡¶éƒ¨èƒŒæ™¯é¢œâ¾Šï¼Œâ½‚å­—é¢œâ¾Šå®šä¹‰ç­‰ã€‚
>
> â€‹	3ï¼‰å®Œæ•´çš„é…ç½®ä¿¡æ¯è¯·å‚è€ƒ app.jsoné…ç½®
>
> â€‹	4) [tabBar](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar)-åº•éƒ¨ `tab` æ çš„è¡¨ç°:
>![image-20210421102125607](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/tabBar_åº•éƒ¨tabæ çš„è¡¨ç°ç¤ºä¾‹å›¾.png)
>
>æ›´å¤šé…ç½®è¯¦ç»†è¯·çœ‹[`appé…ç½®æ–‡æ¡£`](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html)

### â…¡-[é¡µé¢é…ç½®page.json](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html)

>1. è¿™â¾¥çš„ `page.json` å…¶å®â½¤æ¥è¡¨â½°â»šâ¾¯â½¬å½•ä¸‹çš„ page.json è¿™ç±»å’Œâ¼©ç¨‹åºâ»šâ¾¯ç›¸å…³çš„é…ç½®ã€‚ å¼€å‘è€…å¯ä»¥ç‹¬â½´å®šä¹‰æ¯ä¸ªâ»šâ¾¯çš„â¼€äº›å±æ€§ï¼Œå¦‚é¡¶éƒ¨é¢œâ¾Šã€æ˜¯å¦å…è®¸ä¸‹æ‹‰åˆ·æ–°ç­‰ç­‰ã€‚ â»šâ¾¯çš„é…ç½®åªèƒ½è®¾ç½® app.json ä¸­éƒ¨åˆ† window é…ç½®é¡¹çš„å†…å®¹ï¼Œâ»šâ¾¯ä¸­é…ç½®é¡¹ä¼šè¦†ç›– app.json çš„ window ä¸­ç›¸åŒçš„é…ç½®é¡¹ã€‚
>
>2. å¸¸ç”¨é…ç½®å±æ€§åˆ—ä¸¾:
>
> | å±æ€§                         | ç±»å‹     | é»˜è®¤å€¼  | æè¿°                                                         |
> | ---------------------------- | -------- | ------- | ------------------------------------------------------------ |
> | navigationBarBackgroundColor | HexColor | #000000 | å¯¼èˆªæ èƒŒæ™¯é¢œâ¾Šï¼Œå¦‚ #000000                                   |
> | navigationBarTextStyle       | String   | white   | å¯¼èˆªæ æ ‡é¢˜é¢œâ¾Šï¼Œä»…â½€æŒ black / white                         |
> | navigationBarTitleText       | String   |         | å¯¼èˆªæ æ ‡é¢˜â½‚å­—å†…å®¹                                           |
> | backgroundColor              | HexColor | #ffffff | çª—â¼çš„èƒŒæ™¯â¾Š                                                 |
> | backgroundTextStyle          | String   | dark    | ä¸‹æ‹‰`loading`çš„æ ·å¼ï¼Œä»…â½€æŒ dark / light                     |
> | enablePullDownRefresh        | Boolean  | false   | æ˜¯å¦å…¨å±€å¼€å¯ä¸‹æ‹‰åˆ·æ–°ã€‚ è¯¦â»… [Page.onPullDownRefresh](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpulldownrefresh) |
> | onReachBottomDistance        | Number   | 50      | â»šâ¾¯ä¸Šæ‹‰è§¦åº•äº‹ä»¶è§¦å‘æ—¶è·â»šâ¾¯åº•éƒ¨è·ç¦»ï¼Œå•ä½ä¸ºpxã€‚ è¯¦â»… [Page.onReachBottom](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onreachbottom) |
> | disableScroll                | Boolean  | false   | è®¾ç½®ä¸º true åˆ™â»šâ¾¯æ•´ä½“ä¸èƒ½ä¸Šä¸‹æ»šåŠ¨ï¼›åªåœ¨â»šâ¾¯é…ç½®ä¸­æœ‰æ•ˆï¼Œâ½†æ³•åœ¨ app.json ä¸­è®¾ç½®è¯¥é¡¹ |

### â…¢-[sitemap é…ç½®](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html)-äº†è§£å³å¯

> â¼©ç¨‹åºæ ¹â½¬å½•ä¸‹çš„ `sitemap.json` â½‚ä»¶â½¤äºé…ç½®â¼©ç¨‹åºåŠå…¶â»šâ¾¯æ˜¯å¦å…è®¸è¢«å¾®ä¿¡ç´¢å¼•ã€‚`ä¸»è¦æœåŠ¡äºæœç´¢`

## 4ã€å°ç¨‹åºæ¡†æ¶æ¥å£

### â… -App(Object object)

>1. æ³¨å†Œå°ç¨‹åºã€‚æ¥å—ä¸€ä¸ª `Object` å‚æ•°ï¼Œå…¶æŒ‡å®šå°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰ã€‚
>
>2. **App() å¿…é¡»åœ¨ `app.js` ä¸­è°ƒç”¨ï¼Œå¿…é¡»è°ƒç”¨ä¸”åªèƒ½è°ƒç”¨ä¸€æ¬¡ã€‚ä¸ç„¶ä¼šå‡ºç°æ— æ³•é¢„æœŸçš„åæœ**
>
>3. ç›¸åº”çš„app()å‚æ•°åœ¨ä¸‹æ–¹çš„`å°ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­æœ‰æŒ‡å‡º`

#### **AppObject `getApp(Object object)`**

>1. è·å–åˆ°å°ç¨‹åºå…¨å±€å”¯ä¸€çš„ `App` å®ä¾‹ã€‚
>
>2. ä»£ç ç¤ºä¾‹
>
>  ```jsx
>  // other.js
>  var appInstance = getApp()
>  console.log(appInstance.globalData) // I am global dat
>  //æˆ–è€…
>  const {GbaseUrl} =getApp()  //GbaseUrlæ˜¯è‡ªå·±åœ¨app.jså®šä¹‰çš„å…¨å±€å˜é‡
>  ```
>
>3. Object object
>
>| å±æ€§         | ç±»å‹    | é»˜è®¤å€¼ | å¿…å¡« | è¯´æ˜                                                         | æœ€ä½ç‰ˆæœ¬                                                     |
>| :----------- | :------ | :----- | :--- | :----------------------------------------------------------- | :----------------------------------------------------------- |
>| allowDefault | boolean | false  | å¦   | åœ¨ `App` æœªå®šä¹‰æ—¶è¿”å›é»˜è®¤å®ç°ã€‚å½“Appè¢«è°ƒç”¨æ—¶ï¼Œé»˜è®¤å®ç°ä¸­å®šä¹‰çš„å±æ€§ä¼šè¢«è¦†ç›–åˆå¹¶åˆ°Appä¸­ã€‚ä¸€èˆ¬ç”¨äº[ç‹¬ç«‹åˆ†åŒ…](https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/independent.html) | [2.2.4](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
>
>4. æ³¨æ„
>  - ä¸è¦åœ¨å®šä¹‰äº `App()` å†…çš„å‡½æ•°ä¸­ï¼Œæˆ–è°ƒç”¨ `App` å‰è°ƒç”¨ `getApp()` ã€‚ä½¿ç”¨ `this` å°±å¯ä»¥æ‹¿åˆ° app å®ä¾‹ã€‚
>  - é€šè¿‡ `getApp()` è·å–å®ä¾‹ä¹‹åï¼Œä¸è¦ç§è‡ªè°ƒç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°







------

# ä¸‰ã€å°ç¨‹åºçš„åŸºç¡€çŸ¥è¯†å‚¨å¤‡

> æ•´ä¸ªå°ç¨‹åºå­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„ æ‰€éœ€åŸºç¡€çŸ¥è¯† æˆ– è¡¥å……çŸ¥è¯† å°†æ•´åˆè‡³æ­¤
>
> ç›¸å…³çŸ¥è¯†ç‚¹æœ¬äººåœ¨`ä¸€äºŒé˜¶æ®µè¡¥ç¼ºç¬”è®°`ä¸­æœ‰è®°å½•,åœ¨æ­¤ä¾¿åªä¸¾ä¾‹å¤§æ¦‚,ä¸è¯¦ç»†è®°å½•

## 1ã€Flex å¸ƒå±€

### â… -åŸºæœ¬çŸ¥è¯†ç‚¹æ¦‚å¿µ

>1. FlexåŸºæœ¬æ¦‚å¿µ
>
>    1) Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚ 
>
>    2) ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸º Flex å¸ƒå±€ã€‚ 
>
>    3) display: â€˜flexâ€™
>
> â€‹	![image-20210421111211248](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210421111211248.png)
>
>â€‹	4) è¿™éƒ¨åˆ†æ˜¯ä¸€é˜¶æ®µåŸºç¡€çŸ¥è¯†,å¯çœ‹[æ–‡æ¡£](http://www.runoob.com/w3cnote/flex-grammar.html
> )å­¦ä¹ 
>
>2. åœ¨å°ç¨‹åºä¸­,é€šå¸¸ä½¿ç”¨`<view/>`ä»£æ›¿`<div/>`ä½œä¸ºå®¹å™¨æ¥åšå¸ƒå±€-->ä»£ç ç¤ºä¾‹åœ¨`ç¬¬ä¸€ç« çš„ç¬¬ä¸‰å°èŠ‚ç¬¬ä¸‰ç‚¹`

### â…¡-è§£å†³flexå¸ƒå±€ä¸­ space-betweenæ–¹æ³•çš„æ’ç‰ˆé—®é¢˜

> è¯¦è§ä¸‹æ–¹`æ‚è®°-åˆå­¦é˜¶æ®µé‡åˆ°çš„é—®é¢˜ä¸è§£å†³-é—®é¢˜â…§`

## 2ã€ç§»åŠ¨ç«¯ç›¸å…³çŸ¥è¯†ç‚¹

>è‡ªè¡Œè¡¥å……å­¦ä¹ ,ç›¸å…³çŸ¥è¯†ç‚¹æœ¬äººåœ¨`ä¸€äºŒé˜¶æ®µè¡¥ç¼ºç¬”è®°`ä¸­æœ‰è®°å½•,ä¾¿ä¸å†èµ˜è¿°

### â… -ç‰©ç†åƒç´ 

>1) å±å¹•çš„åˆ†è¾¨ç‡ 
>
>2) è®¾å¤‡èƒ½æ§åˆ¶æ˜¾ç¤ºçš„æœ€å°å•å…ƒï¼Œå¯ä»¥æŠŠç‰©ç†åƒç´ çœ‹æˆæ˜¯å¯¹åº”çš„åƒç´ ç‚¹

### â…¡-è®¾å¤‡ç‹¬ç«‹åƒç´  ã€ css åƒç´  

>è®¾å¤‡ç‹¬ç«‹åƒç´ (ä¹Ÿå«å¯†åº¦æ— å…³åƒç´ )ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯è®¡ç®—æœºåæ ‡ç³»ç»Ÿä¸­çš„ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªå¯ä»¥ç”±ç¨‹åºä½¿ç”¨å¹¶æ§åˆ¶çš„`è™šæ‹Ÿåƒç´ `(æ¯”å¦‚ï¼šCSS åƒç´ ,åªæ˜¯åœ¨ android æœºä¸­ CSS åƒç´ å°±ä¸å«â€CSS åƒç´ â€äº†è€Œæ˜¯å«â€è®¾å¤‡ç‹¬ç«‹åƒç´ â€)ï¼Œç„¶åç”±ç›¸å…³ç³»ç»Ÿè½¬æ¢ä¸ºç‰©ç†åƒç´ ã€‚ 

### â…¢-dpræ¯” ã€DPI ã€PPI 

>1. æ¦‚å¿µ
>
>      1) dpr: è®¾å¤‡åƒç´ æ¯”ï¼Œç‰©ç†åƒç´ /è®¾å¤‡ç‹¬ç«‹åƒç´  = dprï¼Œ ä¸€èˆ¬ä»¥ Iphon6 çš„ dpr ä¸ºå‡† dpr = 2
>
>      2) PPI: ä¸€è‹±å¯¸æ˜¾ç¤ºå±ä¸Šçš„åƒç´ ç‚¹ä¸ªæ•° 
>
>      3) DPIï¼šæœ€æ—©æŒ‡çš„æ˜¯æ‰“å°æœºåœ¨å•ä½é¢ç§¯ä¸Šæ‰“å°çš„å¢¨ç‚¹æ•°ï¼Œå¢¨ç‚¹è¶Šå¤šè¶Šæ¸…æ™°
>
>2. ä¸åŒæœºå‹å¯¹æ¯”è¡¨
>
>   ![image-20210508115100483](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210508115100483.png)
>
>3. éƒ¨åˆ†æœºå‹å›¾ç¤º
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210508115306709.png" alt="image-20210508115306709" style="zoom: 80%;" />

## 3ã€ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆ

>ç›¸å…³çŸ¥è¯†ç‚¹æœ¬äººåœ¨`ä¸€äºŒé˜¶æ®µè¡¥ç¼ºç¬”è®°`ä¸­æœ‰è®°å½•,æƒ³è¯¦ç»†æŸ¥é˜…å¯ä»¥å»çœ‹,è¿™æ˜¯ä¸ª`é¢è¯•è€ƒç‚¹`

### â… -viewport é€‚é…

>1. ä¸ºä»€ä¹ˆåš `viewport` é€‚é… ?
>
>      a) æ‰‹æœºå‚å•†åœ¨ç”Ÿäº§æ‰‹æœºçš„æ—¶å€™å¤§éƒ¨åˆ†æ‰‹æœºé»˜è®¤é¡µé¢å®½åº¦ä¸º 980px 
>
>      b) æ‰‹æœºå®é™…è§†å£å®½åº¦éƒ½è¦å°äº 980pxï¼Œå¦‚: iphone6 ä¸º 750px
>
>      c) å¼€å‘éœ€æ±‚éœ€è¦å°† 980 çš„é¡µé¢å®Œå…¨æ˜¾ç¤ºåœ¨æ‰‹æœºå±å¹•ä¸Šä¸”æ²¡æœ‰æ»šåŠ¨æ¡ 
>
>2. ä»£ç å®ç°
>
>   ```html
>   <meta name="viewport" content="width=device-width,initial-scale=1.0"> 
>   ```

### â…¡- rem é€‚é… 

>1. ä¸ºä»€ä¹ˆåš `rem` é€‚é…?
>
>   a) æœºå‹å¤ªå¤š,ä¸åŒçš„æœºå‹å±å¹•å¤§å°ä¸ä¸€æ · 
>
>   b) éœ€æ±‚ï¼šä¸€å¥—è®¾è®¡ç¨¿çš„å†…å®¹åœ¨ä¸åŒçš„æœºå‹ä¸Šå‘ˆç°çš„æ•ˆæœä¸€è‡´,æ ¹æ®å±å¹•å¤§å°ä¸åŒçš„å˜åŒ–,é¡µé¢ä¸­çš„å†…å®¹ä¹Ÿç›¸åº”å˜åŒ–
>
>2. åŸç”Ÿä»£ç å®ç°:
>
>   ```js
>   function remRefresh() {
>   let clientWidth = document.documentElement.clientWidth; 
>   // å°†å±å¹•ç­‰åˆ† 10 ä»½
>   let rem = clientWidth / 10;
>   document.documentElement.style.fontSize = rem + 'px';
>   document.body.style.fontSize = '12px';
>   }
>   window.addEventListener('pageshow', () => {
>   remRefresh()
>   })
>   // å‡½æ•°é˜²æŠ–
>   let timeoutId;
>   window.addEventListener('resize', () => {
>   timeoutId && clearTimeout(timeoutId);
>   timeoutId = setTimeout(() =>{
>   remRefresh()
>   }, 300)
>   })
>   ```
>
>3. ç¬¬ä¸‰æ–¹åº“å®ç°
>
>   > lib-flexible + px2rem-loader



------

# å››ã€è§†å›¾å±‚è¯¦è§£

>æ¡†æ¶çš„è§†å›¾å±‚ç”± WXML ä¸ WXSS ç¼–å†™ï¼Œç”±ç»„ä»¶æ¥è¿›è¡Œå±•ç¤ºã€‚
>
>å°†é€»è¾‘å±‚çš„æ•°æ®åæ˜ æˆè§†å›¾ï¼ŒåŒæ—¶å°†è§†å›¾å±‚çš„äº‹ä»¶å‘é€ç»™é€»è¾‘å±‚ã€‚
>
>WXML(WeiXin Markup language) ç”¨äºæè¿°é¡µé¢çš„ç»“æ„ã€‚
>
>WXS(WeiXin Script) æ˜¯å°ç¨‹åºçš„ä¸€å¥—è„šæœ¬è¯­è¨€ï¼Œç»“åˆ `WXML`ï¼Œå¯ä»¥æ„å»ºå‡ºé¡µé¢çš„ç»“æ„ã€‚
>
>WXSS(WeiXin Style Sheet) ç”¨äºæè¿°é¡µé¢çš„æ ·å¼ã€‚
>
>ç»„ä»¶(Component)æ˜¯è§†å›¾çš„åŸºæœ¬ç»„æˆå•å…ƒã€‚
>
>è¯¥éƒ¨åˆ†å°†`æˆªå–å®˜æ–¹æ–‡æ¡£`å¹¶åŠ ä»¥æ³¨è§£

## 1ã€[WXSS](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html)æ ·å¼æ–‡ä»¶è¯¦è§£

>1. WXSS (WeiXin Style Sheets)æ˜¯ä¸€å¥—æ ·å¼è¯­è¨€ï¼Œç”¨äºæè¿° WXML çš„ç»„ä»¶æ ·å¼ã€‚
>
>2. WXSS ç”¨æ¥å†³å®š WXML çš„ç»„ä»¶åº”è¯¥æ€ä¹ˆæ˜¾ç¤ºã€‚
>
>   ä¸ºäº†é€‚åº”å¹¿å¤§çš„å‰ç«¯å¼€å‘è€…ï¼ŒWXSS å…·æœ‰ CSS å¤§éƒ¨åˆ†ç‰¹æ€§ã€‚åŒæ—¶ä¸ºäº†æ›´é€‚åˆå¼€å‘å¾®ä¿¡å°ç¨‹åºï¼ŒWXSS å¯¹ CSS è¿›è¡Œäº†æ‰©å……ä»¥åŠä¿®æ”¹ã€‚
>
>3. ä¸ CSS ç›¸æ¯”ï¼ŒWXSS æ‰©å±•çš„ç‰¹æ€§æœ‰ï¼š
>      1. å“åº”å¼â»“åº¦å•ä½:å³å°ºå¯¸å•ä½ -->`rpx`
>      2. æ ·å¼å¯¼å…¥
>
>4. æ³¨æ„:
>
>   å½“é¡µé¢æ–‡ä»¶åœ¨åŒä¸€çº§ç›®å½•ä¸‹ä¸”å‘½åç›¸åŒ(åç¼€ä¸åŒ),`å¯ä»¥äº’ç›¸å¼•ç”¨å´ä¸ç”¨å¯¼å…¥`

### â… -å°ºå¯¸å•ä½

>1. `rpxï¼ˆresponsive pixelï¼‰`: å¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº”ã€‚è§„å®šå±å¹•å®½ä¸º750rpxã€‚å¦‚åœ¨ `iPhone6` ä¸Šï¼Œå±å¹•å®½åº¦ä¸º375pxï¼Œå…±æœ‰750ä¸ªç‰©ç†åƒç´ ï¼Œåˆ™750rpx = 375px = 750ç‰©ç†åƒç´ ï¼Œ1rpx = 0.5px = 1ç‰©ç†åƒç´ ã€‚
>
> | è®¾å¤‡         | rpxæ¢ç®—px (å±å¹•å®½åº¦/750) | pxæ¢ç®—rpx (750/å±å¹•å®½åº¦) |
> | :----------- | :----------------------- | :----------------------- |
> | iPhone5      | 1rpx = 0.42px            | 1px = 2.34rpx            |
> | iPhone6      | 1rpx = 0.5px             | 1px = 2rpx               |
> | iPhone6 Plus | 1rpx = 0.552px           | 1px = 1.81rpx            |
>
>2. å»ºè®®ä¸æ³¨æ„ç‚¹:
>
>      1. å¼€å‘å¾®ä¿¡å°ç¨‹åºæ—¶`æ¨èè®¾è®¡å¸ˆå¯ä»¥ç”¨iPhone6ä½œä¸ºè§†è§‰ç¨¿çš„æ ‡å‡†`-->å³åªæœ‰åœ¨`iPhone6`æ ‡å‡†ä¸­æ‰å¯ä»¥`ä¸€æ¯”äºŒæ¢ç®—`,æ›´æ–¹ä¾¿
>      2. åœ¨è¾ƒå°çš„å±å¹•ä¸Šä¸å¯é¿å…çš„ä¼šæœ‰ä¸€äº›æ¯›åˆºï¼Œè¯·åœ¨å¼€å‘æ—¶å°½é‡é¿å…è¿™ç§æƒ…å†µ

### â…¡-æ ·å¼å¯¼â¼Š

>1. ä½¿ç”¨`@import`è¯­å¥å¯ä»¥å¯¼å…¥å¤–è”æ ·å¼è¡¨,ä¹Ÿå¯ä»¥å’Œlessä¸­çš„å¯¼â¼Šæ··â½¤ï¼Œ`@import`åè·Ÿéœ€è¦å¯¼å…¥çš„å¤–è”æ ·å¼è¡¨çš„`ç›¸å¯¹è·¯å¾„`(åªâ½€æŒç›¸å¯¹è·¯å¾„)ï¼Œç”¨`;`è¡¨ç¤ºè¯­å¥ç»“æŸã€‚
>
>   ```css
>   /** common.wxss **/
>   .small-p {
>     padding:5px;
>   }
>   /** app.wxss **/
>   @import "common.wxss";
>   .middle-p {
>     padding:15px;
>   }
>   ```

### â…¢-å†…è”æ ·å¼

>æ¡†æ¶ç»„ä»¶ä¸Šæ”¯æŒä½¿ç”¨ styleã€class å±æ€§æ¥æ§åˆ¶ç»„ä»¶çš„æ ·å¼ã€‚
>
>1. `style`ï¼šé™æ€çš„æ ·å¼ç»Ÿä¸€å†™åˆ° class ä¸­ã€‚style æ¥æ”¶åŠ¨æ€çš„æ ·å¼ï¼Œåœ¨è¿è¡Œæ—¶ä¼šè¿›è¡Œè§£æï¼Œè¯·å°½é‡é¿å…å°†é™æ€çš„æ ·å¼å†™è¿› style ä¸­ï¼Œä»¥å…å½±å“æ¸²æŸ“é€Ÿåº¦
>
>   ```html
>   <view style="color:{{color}};" />
>   ```
>
>2. `class`ï¼šç”¨äºæŒ‡å®šæ ·å¼è§„åˆ™ï¼Œå…¶å±æ€§å€¼æ˜¯æ ·å¼è§„åˆ™ä¸­ç±»é€‰æ‹©å™¨å(æ ·å¼ç±»å)çš„é›†åˆï¼Œæ ·å¼ç±»åä¸éœ€è¦å¸¦ä¸Š`.`ï¼Œæ ·å¼ç±»åä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”
>
>   ```html
>   <view class="normal_view" />
>   ```



## 2ã€[WXML](https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/)è¯­æ³•è¯¦è§£

>WXMLï¼ˆWeiXin Markup Languageï¼‰æ˜¯æ¡†æ¶è®¾è®¡çš„â¼€å¥—æ ‡ç­¾è¯­â¾”ï¼Œç»“åˆ[åŸºç¡€ç»„ä»¶](https://developers.weixin.qq.com/miniprogram/dev/component/)ã€[äº‹ä»¶ç³»ç»Ÿ](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html)ï¼Œå¯ä»¥æ„å»ºå‡ºâ»šâ¾¯çš„ç»“æ„ã€‚
>
>è¯¥éƒ¨åˆ†å°†`æˆªå–å®˜æ–¹æ–‡æ¡£`åŠ ä»¥è‡ªå·±è§è§£è¯´æ˜,åŒå­¦ä»¬ä¹Ÿå¯ä»¥ç›´æ¥å»çœ‹æ–‡æ¡£

### â… -[æ•°æ®ç»‘å®šä¸å†™æ³•è§„åˆ™](https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/data.html#%E5%86%85%E5%AE%B9)

>1. WXML ä¸­çš„åŠ¨æ€æ•°æ®å‡æ¥è‡ªå¯¹åº” Page çš„ dataã€‚
>
>2. Mustache è¯­æ³•{{}}è§†ä½œè¿ç®—æ ‡è®°,é‡Œé¢çš„å†…å®¹è¡¨ç¤ºè¡¨è¾¾å¼ 

#### 1) å•å‘ç®€å•æ•°æ®ç»‘å®š

>1. æ­¤å¤„æ˜¯å•å‘ç»‘å®š(æ•°æ®é©±åŠ¨è§†å›¾),åŒå‘ç»‘å®šå‡ºç°çš„åœºæ™¯å¦‚(inputç­‰)å°†åœ¨ä¸‹æ–¹`å››-3ã€åŒå‘ç»‘å®š`å¤„è®°å½•
>
>2. `ç®€å•ç»‘å®š`:æ•°æ®ç»‘å®šä½¿ç”¨ Mustache è¯­æ³•ï¼ˆåŒå¤§æ‹¬å·ï¼‰å°†å˜é‡åŒ…èµ·æ¥ï¼Œå¯ä»¥ä½œç”¨äºï¼š
>
>   ```jsx
>   //pages.wxml
>   <view> {{ message }} </view>
>   
>   // pages.js
>   Page({
>     data: {
>       message: 'Hello MINA!'
>     }
>   })
>   ```
>
>3. ç»‘å®š`boolean`ç±»å‹(éœ€è¦åœ¨åŒå¼•å·ä¹‹å†…)
>
>   `true`ï¼šboolean ç±»å‹çš„ trueï¼Œä»£è¡¨çœŸå€¼ã€‚`false`ï¼š boolean ç±»å‹çš„ falseï¼Œä»£è¡¨å‡å€¼ã€‚
>
>   ```jsx
>   <checkbox checked="{{false}}"> </checkbox>
>   ```
>
>   ***ç‰¹åˆ«æ³¨æ„ï¼šä¸è¦ç›´æ¥å†™ `checked="false"`ï¼Œå…¶è®¡ç®—ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè½¬æˆ boolean ç±»å‹åä»£è¡¨çœŸå€¼***

#### 2) è¿ç®—

>å¯ä»¥åœ¨ `{{}}` å†…è¿›è¡Œç®€å•çš„è¿ç®—ï¼Œæ”¯æŒçš„æœ‰å¦‚ä¸‹å‡ ç§æ–¹å¼ï¼š
>
>1. ä¸‰å…ƒè¿ç®—
>
>   ```jsx
>   <view hidden="{{flag ? true : false}}"> Hidden </view>
>   ```
>
>2. ç®—æ•°è¿ç®—
>
>   ```jsx
>   <view> {{a + b}} + {{c}} + d </view>
>   //viewä¸­çš„å†…å®¹ä¸º `3 + 3 + d`ã€‚
>   //pages.js
>   Page({
>     data: { a: 1, b: 2, c: 3
>     }
>   })
>   ```
>
>3. é€»è¾‘åˆ¤æ–­
>
>   ```jsx
>   <view wx:if="{{length > 5}}"> </view>
>   ```
>
>4. å­—ç¬¦ä¸²è¿ç®—
>
>   ```jsx
>   <view>{{"hello" + name}}</view>
>   Page({
>     data:{name: 'MINA}
>   })
>   ```
>
>5. æ•°æ®è·¯å¾„è¿ç®—
>
>   ```jsx
>   <view>{{object.key}} {{array[0]}}</view>
>   //viewä¸­çš„å†…å®¹ä¸º hello  MINA
>   Page({
>     data: {
>       object: {
>         key: 'Hello '
>       },
>       array: ['MINA']
>     }
>   })
>   ```

#### 3) ç»„åˆ

>ä¹Ÿå¯ä»¥åœ¨ Mustache å†…ç›´æ¥è¿›è¡Œç»„åˆï¼Œæ„æˆæ–°çš„å¯¹è±¡æˆ–è€…æ•°ç»„ã€‚
>
>1. æ•°ç»„ --> æœ€ç»ˆç»„åˆæˆæ•°ç»„`[0, 1, 2, 3, 4]`ã€‚
>
>   ```jsx
>   <view wx:for="{{[zero, 1, 2, 3, 4]}}"> {{item}} </view>
>   Page({
>     data: { zero: 0 }
>   })
>   ```
>
>2. å¯¹è±¡   -->
>
>    1. æœ€ç»ˆç»„åˆæˆçš„å¯¹è±¡æ˜¯ `{for: 1, bar: 2}` 
>
>       ```JSx
>       <template is="objectCombine" data="{{for: a, bar: b}}"></template>
>       Page({
>         data: {a: 1, b: 2}
>       })
>       ```
>
>    2. ä¹Ÿå¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦ `...` æ¥å°†ä¸€ä¸ªå¯¹è±¡å±•å¼€-->æœ€ç»ˆç»„åˆæˆçš„å¯¹è±¡æ˜¯ `{a: 1, b: 2, c: 3, d: 4, e: 5}`ã€‚
>
>       ```JSx
>       <template is="objectCombine" data="{{...obj1, ...obj2, e: 5}}"></template>
>       Page({
>         data: {
>           obj1: { a: 1, b: 2 },
>           obj2: { c: 3, d: 4}
>         }
>       })
>       ```
>
>    3. å¦‚æœå¯¹è±¡çš„ key å’Œ value ç›¸åŒï¼Œä¹Ÿå¯ä»¥é—´æ¥åœ°è¡¨è¾¾ã€‚-->æœ€ç»ˆç»„åˆæˆçš„å¯¹è±¡æ˜¯ `{foo: 'my-foo', bar:'my-bar'}`
>
>       ```JSx
>       <template is="objectCombine" data="{{foo, bar}}"></template>
>       Page({
>         data: {
>           foo: 'my-foo',
>           bar: 'my-bar'
>         }
>       })
>       ```
>
>    4. `æ³¨æ„`ï¼šä¸Šè¿°æ–¹å¼å¯ä»¥éšæ„ç»„åˆï¼Œä½†æ˜¯å¦‚æœ‰å­˜åœ¨å˜é‡åç›¸åŒçš„æƒ…å†µï¼Œåè¾¹çš„ä¼šè¦†ç›–å‰é¢ --> æœ€ç»ˆç»„åˆæˆçš„å¯¹è±¡æ˜¯ `{a: 5, b: 3, c: 6}`ã€‚
>
>       ```JSx
>       <template is="objectCombine" data="{{...obj1, ...obj2, a, c: 6}}"></template>
>       Page({
>         data: {
>           obj1: { a: 1,  b: 2},
>           obj2: { b: 3, c: 4},
>           a: 5
>         }
>       })
>       ```
>
>    5. `æ³¨æ„`ï¼š èŠ±æ‹¬å·å’Œå¼•å·ä¹‹é—´å¦‚æœæœ‰ç©ºæ ¼ï¼Œå°†æœ€ç»ˆè¢«è§£ææˆä¸ºå­—ç¬¦ä¸²
>
>       ```JSx
>         <view wx:for="{{[1,2,3]}} ">
>           {{item}}
>         </view>
>         ç­‰åŒäº
>                         
>         <view wx:for="{{[1,2,3] + ' '}}">
>           {{item}}
>         </view>
>       ```
>
>       

#### 4) è‡ªå®šä¹‰å±æ€§`data-*`çš„å‘½åä¸ä½¿ç”¨

>1. åŒä¸€å®¹å™¨ä¸­å¯ä»¥å­˜åœ¨å¤šä¸ª`data-*`
>2. å‡¡æ˜¯ä»¥`data-`å¼€å¤´çš„æ•°æ®,éƒ½ä¼šåœ¨`eventçš„currentTarget`ä¸­ä½“ç°,ä¸”å›ç¼ºçœ`data-`(data-id  -->  id)
>3. `data-*`åé¢æ¥çš„å•è¯å°†è‡ªåŠ¨è½¬æ¢ ç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™,ç¬¬äºŒä¸ªåŠä¹‹åçš„å•è¯é¦–å­—æ¯å¤§å†™ (data-post-my-id --> postMyId)

### â…¡-åˆ—è¡¨æ¸²æŸ“

#### 1) wx:for

>1. åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ `wx:for` æ§åˆ¶å±æ€§ç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå³å¯ä½¿ç”¨æ•°ç»„ä¸­å„é¡¹çš„æ•°æ®é‡å¤æ¸²æŸ“è¯¥ç»„ä»¶ã€‚
>
>2. é»˜è®¤æ•°ç»„çš„å½“å‰é¡¹çš„ä¸‹æ ‡å˜é‡åé»˜è®¤ä¸º `index`ï¼Œæ•°ç»„å½“å‰é¡¹çš„å˜é‡åé»˜è®¤ä¸º `item`
>
>3. ä½¿ç”¨ `wx:for-item` å¯ä»¥æŒ‡å®šæ•°ç»„å½“å‰å…ƒç´ çš„å˜é‡åï¼Œä½¿ç”¨ `wx:for-index` å¯ä»¥æŒ‡å®šæ•°ç»„å½“å‰ä¸‹æ ‡çš„å˜é‡åï¼š
>
>   ```jsx
>   <view wx:for="{{array}}" wx:for-index="idx" wx:for-item="itemName">
>     {{idx}}: {{itemName.message}}
>   </view>
>   ```
>
>4. `wx:for` ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œä¸‹è¾¹æ˜¯ä¸€ä¸ªä¹ä¹ä¹˜æ³•è¡¨
>
>   ```jsx
>   <view wx:for="{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}" wx:for-item="i">
>     <view wx:for="{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}" wx:for-item="j">
>       <view wx:if="{{i <= j}}">
>         {{i}} * {{j}} = {{i * j}}
>       </view>
>     </view>
>   </view>
>   ```

#### 2) block wx:for

>ç±»ä¼¼ `block wx:if`ï¼Œä¹Ÿå¯ä»¥å°† `wx:for` ç”¨åœ¨`<block/>`æ ‡ç­¾ä¸Šï¼Œä»¥æ¸²æŸ“ä¸€ä¸ªåŒ…å«å¤šèŠ‚ç‚¹çš„ç»“æ„å—ã€‚ä¾‹å¦‚ï¼š
>
>```jsx
><block wx:for="{{[1, 2, 3]}}">
>  <view> {{index}}: </view>
>  <view> {{item}} </view>
></block>
>```
>
>**æ³¨æ„ï¼š** `<block/>` å¹¶ä¸æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªåŒ…è£…å…ƒç´ ï¼Œä¸ä¼šåœ¨é¡µé¢ä¸­åšä»»ä½•æ¸²æŸ“ï¼Œåªæ¥å—æ§åˆ¶å±æ€§

#### 3) wx:key

>å¦‚æœåˆ—è¡¨ä¸­é¡¹ç›®çš„ä½ç½®ä¼šåŠ¨æ€æ”¹å˜æˆ–è€…æœ‰æ–°çš„é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å¸Œæœ›åˆ—è¡¨ä¸­çš„é¡¹ç›®ä¿æŒè‡ªå·±çš„ç‰¹å¾å’ŒçŠ¶æ€ï¼ˆå¦‚ [input](https://developers.weixin.qq.com/miniprogram/dev/component/input.html) ä¸­çš„è¾“å…¥å†…å®¹ï¼Œ[switch](https://developers.weixin.qq.com/miniprogram/dev/component/switch.html) çš„é€‰ä¸­çŠ¶æ€ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ `wx:key` æ¥æŒ‡å®šåˆ—è¡¨ä¸­é¡¹ç›®çš„å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚

##### â‘  `wx:key` çš„å€¼ä»¥ä¸¤ç§å½¢å¼æä¾›

>1. å­—ç¬¦ä¸²ï¼Œä»£è¡¨åœ¨forå¾ªç¯çš„arrayä¸­`itemçš„æŸä¸ªproperty`ï¼Œè¯¥propertyçš„å€¼éœ€è¦æ˜¯åˆ—è¡¨ä¸­å”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä¸”ä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚
>
>2. ä¿ç•™å…³é”®å­— `*this` ä»£è¡¨åœ¨ for å¾ªç¯ä¸­çš„ item æœ¬èº«ï¼Œè¿™ç§è¡¨ç¤ºéœ€è¦ item æœ¬èº«æ˜¯ä¸€ä¸ª`å”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—`ã€‚
>
>   ```JSX
>   <block wx:for="{{posts}}"   wx:key="id"></blocK>
>   //idæ˜¯postsæ•°ç»„ä¸­çš„å¯¹è±¡é‡Œçš„ä¸€ä¸ªå±æ€§
>   ```

##### â‘¡ä½¿ç”¨ `wx:key` çš„æ„ä¹‰

>å½“æ•°æ®æ”¹å˜è§¦å‘æ¸²æŸ“å±‚é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæ ¡æ­£å¸¦æœ‰ key çš„ç»„ä»¶`ï¼Œæ¡†æ¶ä¼šç¡®ä¿ä»–ä»¬è¢«é‡æ–°æ’åºï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»º`ï¼Œä»¥ç¡®ä¿ä½¿ç»„ä»¶ä¿æŒè‡ªèº«çš„çŠ¶æ€ï¼Œå¹¶ä¸”æé«˜åˆ—è¡¨æ¸²æŸ“æ—¶çš„æ•ˆç‡ã€‚
>
>å¦‚ä¸æä¾› `wx:key`ï¼Œä¼šæŠ¥ä¸€ä¸ª `warning`ï¼Œ å¦‚æœæ˜ç¡®çŸ¥é“è¯¥åˆ—è¡¨æ˜¯é™æ€ï¼Œæˆ–è€…ä¸å¿…å…³æ³¨å…¶é¡ºåºï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥ã€‚

#### 4) åˆ—è¡¨æ¸²æŸ“æ³¨æ„ç‚¹

##### â‘  å½“ `wx:for` çš„å€¼ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä¼šå°†å­—ç¬¦ä¸²è§£ææˆå­—ç¬¦ä¸²æ•°ç»„

>```jsx
><view wx:for="array">
>  {{item}}
></view>
>ç­‰åŒäº
>
><view wx:for="{{['a','r','r','a','y']}}">
>  {{item}}
></view>
>```

##### â‘¡ èŠ±æ‹¬å·å’Œå¼•å·ä¹‹é—´å¦‚æœæœ‰ç©ºæ ¼ï¼Œå°†æœ€ç»ˆè¢«è§£ææˆä¸ºå­—ç¬¦ä¸²

>```jsx
><view wx:for="{{[1,2,3]}} ">
>  {{item}}
></view>
>ç­‰åŒäº
>
><view wx:for="{{[1,2,3] + ' '}}" >
>  {{item}}
></view>
>```

### â…¢-æ¡ä»¶æ¸²æŸ“

#### 1) wx:if

>1. åœ¨æ¡†æ¶ä¸­ï¼Œä½¿ç”¨ `wx:if=""` æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ¸²æŸ“è¯¥ä»£ç å—ï¼š
>
>   ```jsx
>   <view wx:if="{{condition}}"> True </view>
>   ```
>
>2. ä¹Ÿå¯ä»¥ç”¨ `wx:elif` å’Œ `wx:else` æ¥æ·»åŠ ä¸€ä¸ª else å—:
>
>   ```jsx
>   <view wx:if="{{length > 5}}"> 1 </view>
>   <view wx:elif="{{length > 2}}"> 2 </view>
>   <view wx:else> 3 </view>
>   ```

#### 2) block wx:if

>å› ä¸º `wx:if` æ˜¯ä¸€ä¸ªæ§åˆ¶å±æ€§ï¼Œéœ€è¦å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªæ ‡ç­¾ä¸Šã€‚å¦‚æœè¦ä¸€æ¬¡æ€§åˆ¤æ–­å¤šä¸ªç»„ä»¶æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª `<block/>` æ ‡ç­¾å°†å¤šä¸ªç»„ä»¶åŒ…è£…èµ·æ¥ï¼Œå¹¶åœ¨ä¸Šè¾¹ä½¿ç”¨ `wx:if` æ§åˆ¶å±æ€§
>
>```jsx
><block wx:if="{{true}}">
>  <view> view1 </view>
>  <view> view2 </view>
></block>
>```
>
>**æ³¨æ„ï¼š** `<block/>` å¹¶ä¸æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªåŒ…è£…å…ƒç´ ï¼Œä¸ä¼šåœ¨é¡µé¢ä¸­åšä»»ä½•æ¸²æŸ“ï¼Œåªæ¥å—æ§åˆ¶å±æ€§

#### 3) `wx:if` vs `hidden`

>1. å› ä¸º `wx:if` ä¹‹ä¸­çš„æ¨¡æ¿ä¹Ÿå¯èƒ½åŒ…å«æ•°æ®ç»‘å®šï¼Œæ‰€ä»¥å½“ `wx:if` çš„æ¡ä»¶å€¼åˆ‡æ¢æ—¶ï¼Œæ¡†æ¶æœ‰ä¸€ä¸ªå±€éƒ¨æ¸²æŸ“çš„è¿‡ç¨‹ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿æ¡ä»¶å—åœ¨åˆ‡æ¢æ—¶é”€æ¯æˆ–é‡æ–°æ¸²æŸ“ã€‚
>
>2. åŒæ—¶ `wx:if` ä¹Ÿæ˜¯**æƒ°æ€§çš„**ï¼Œå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ¡ä»¶ä¸º `false`ï¼Œæ¡†æ¶ä»€ä¹ˆä¹Ÿä¸åšï¼Œåœ¨æ¡ä»¶ç¬¬ä¸€æ¬¡å˜æˆçœŸçš„æ—¶å€™æ‰å¼€å§‹å±€éƒ¨æ¸²æŸ“ã€‚
>
>   ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`hidden` å°±ç®€å•çš„å¤šï¼Œç»„ä»¶å§‹ç»ˆä¼šè¢«æ¸²æŸ“ï¼Œåªæ˜¯ç®€å•çš„æ§åˆ¶æ˜¾ç¤ºä¸éšè—ã€‚
>
>3. ä¸€èˆ¬æ¥è¯´ï¼Œ`wx:if` æœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—è€Œ `hidden` æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢çš„æƒ…æ™¯ä¸‹ï¼Œç”¨ `hidden` æ›´å¥½ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜åˆ™ `wx:if` è¾ƒå¥½ã€‚

### â…£-æ¨¡æ¿

>1. WXMLæä¾›æ¨¡æ¿ï¼ˆtemplateï¼‰ï¼Œå¯ä»¥åœ¨æ¨¡æ¿ä¸­å®šä¹‰ä»£ç ç‰‡æ®µï¼Œç„¶ååœ¨ä¸åŒçš„åœ°æ–¹è°ƒç”¨
>
>2. æ¨¡æ¿æ‹¥æœ‰è‡ªå·±çš„`ä½œç”¨åŸŸ`ï¼Œåªèƒ½ä½¿ç”¨ `data` ä¼ å…¥çš„æ•°æ®ä»¥åŠæ¨¡æ¿å®šä¹‰æ–‡ä»¶ä¸­å®šä¹‰çš„ `<wxs />` æ¨¡å—ã€‚

#### 1) å®šä¹‰æ¨¡æ¿

>ä½¿ç”¨ name å±æ€§ï¼Œä½œä¸ºæ¨¡æ¿çš„åå­—ã€‚ç„¶ååœ¨`<template/>`å†…å®šä¹‰ä»£ç ç‰‡æ®µï¼Œå¦‚
>
>```jsx
><!--
>  index: int
>  msg: string
>  time: string
>-->
><template name="msgItem">
>  <view>
>    <text> {{index}}: {{msg}} </text>
>    <text> Time: {{time}} </text>
>  </view>
></template>
>```

#### 2) ä½¿ç”¨æ¨¡æ¿

>1. ä½¿ç”¨ is å±æ€§ï¼Œå£°æ˜éœ€è¦çš„ä½¿ç”¨çš„æ¨¡æ¿ï¼Œç„¶åå°†æ¨¡æ¿æ‰€éœ€è¦çš„ data ä¼ å…¥ï¼Œå¦‚ï¼š
>
>   ```jsx
>   <template is="msgItem" data="{{...item}}"/>
>   Page({
>     data: {
>       item: { index: 0, msg: 'this is a template', time: '2016-09-15'}
>     }
>   })
>   ```
>
>2. is å±æ€§å¯ä»¥ä½¿ç”¨ Mustache è¯­æ³•ï¼Œæ¥åŠ¨æ€å†³å®šå…·ä½“éœ€è¦æ¸²æŸ“å“ªä¸ªæ¨¡æ¿ï¼š
>
>   ```jsx
>   <template name="odd">
>     <view> odd </view>
>   </template>
>   <template name="even">
>     <view> even </view>
>   </template>
>   
>   <block wx:for="{{[1, 2, 3, 4, 5]}}">
>     <template is="{{item % 2 == 0 ? 'even' : 'odd'}}"/>
>   </block>
>   ```

### â…¤-å¼•ç”¨

>WXML æä¾›ä¸¤ç§æ–‡ä»¶å¼•ç”¨æ–¹å¼`import`å’Œ`include`

#### 1) import

##### â‘  ä½¿ç”¨ç¤ºä¾‹

>1. åœ¨ item.wxml ä¸­å®šä¹‰äº†ä¸€ä¸ªå«`item`çš„`template`ï¼š
>
>   ```jsx
>   <!-- item.wxml -->
>   <template name="item">
>     <text>{{text}}</text>
>   </template>
>   ```
>
>2. åœ¨ index.wxml ä¸­å¼•ç”¨äº† item.wxmlï¼Œå°±å¯ä»¥ä½¿ç”¨`item`æ¨¡æ¿ï¼š
>
>   ```jsx
>   <import src="item.wxml"/>
>   <template is="item" data="{{text: 'forbar'}}"/>
>   ```

##### â‘¡ import çš„ä½œç”¨åŸŸ

>importæœ‰ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œå³åªä¼š import ç›®æ ‡æ–‡ä»¶ä¸­å®šä¹‰çš„ templateï¼Œè€Œä¸ä¼šimportç›®æ ‡æ–‡ä»¶importçš„templateã€‚
>
>**å¦‚ï¼šC import Bï¼ŒB import Aï¼Œåœ¨Cä¸­å¯ä»¥ä½¿ç”¨Bå®šä¹‰çš„`template`ï¼Œåœ¨Bä¸­å¯ä»¥ä½¿ç”¨Aå®šä¹‰çš„`template`ï¼Œä½†æ˜¯Cä¸èƒ½ä½¿ç”¨Aå®šä¹‰çš„`template`**ã€‚
>
>```jsx
><!-- A.wxml -->
><template name="A">
>  <text> A template </text>
></template>
><!-- B.wxml -->
><import src="a.wxml"/>
><template name="B">
>  <text> B template </text>
></template>
><!-- C.wxml -->
><import src="b.wxml"/>
><template is="A"/>  <!-- Error! Can not use tempalte when not import A. -->
><template is="B"/>
>```

#### 2) include

> `include` å¯ä»¥å°†ç›®æ ‡æ–‡ä»¶**é™¤äº†** `<template/>` `<wxs/>` å¤–çš„æ•´ä¸ªä»£ç å¼•å…¥ï¼Œç›¸å½“äºæ˜¯æ‹·è´åˆ° `include` ä½ç½®ï¼Œå¦‚ï¼š
>
> ```jsx
> <!-- index.wxml -->
> <include src="header.wxml"/>
> <view> body </view>
> <include src="footer.wxml"/>
> <!-- header.wxml -->
> <view> header </view>
> <!-- footer.wxml -->
> <view> footer </view>
> ```





## 3ã€åŒå‘ç»‘å®š

### â… -åŒå‘ç»‘å®šè¯­æ³•

>

### â…¡- [`setData`](https://developers.weixin.qq.com/miniprogram/dev/framework/performance/tips.html)-->æ•°æ®æ›´æ–°

>1. `setData` æ˜¯å°ç¨‹åºå¼€å‘ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„æ¥å£ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“å¼•å‘æ€§èƒ½é—®é¢˜çš„æ¥å£ã€‚
>
>2. å°ç¨‹åºçš„è§†å›¾å±‚ç›®å‰ä½¿ç”¨ WebView ä½œä¸ºæ¸²æŸ“è½½ä½“ï¼Œè€Œé€»è¾‘å±‚æ˜¯ç”±ç‹¬ç«‹çš„ JavascriptCore ä½œä¸ºè¿è¡Œç¯å¢ƒã€‚åœ¨æ¶æ„ä¸Šï¼ŒWebView å’Œ JavascriptCore éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œå¹¶ä¸å…·å¤‡æ•°æ®ç›´æ¥å…±äº«çš„é€šé“ã€‚å½“å‰ï¼Œè§†å›¾å±‚å’Œé€»è¾‘å±‚çš„æ•°æ®ä¼ è¾“ï¼Œå®é™…ä¸Šé€šè¿‡ä¸¤è¾¹æä¾›çš„ `evaluateJavascript` æ‰€å®ç°ã€‚å³ç”¨æˆ·ä¼ è¾“çš„æ•°æ®ï¼Œâ‘ `éœ€è¦å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ä¼ é€’`ï¼Œâ‘¡ `åŒæ—¶æŠŠè½¬æ¢åçš„æ•°æ®å†…å®¹æ‹¼æ¥æˆä¸€ä»½ JS è„šæœ¬`ï¼Œâ‘¢`å†é€šè¿‡æ‰§è¡Œ JS è„šæœ¬çš„å½¢å¼ä¼ é€’åˆ°ä¸¤è¾¹ç‹¬ç«‹ç¯å¢ƒ`ã€‚
>3. è€Œ `evaluateJavascript` çš„æ‰§è¡Œä¼šå—å¾ˆå¤šæ–¹é¢çš„å½±å“ï¼Œæ•°æ®åˆ°è¾¾è§†å›¾å±‚å¹¶ä¸æ˜¯å®æ—¶çš„

#### 1) ç®€å•ä½¿ç”¨

>`setData`å¯ä»¥ç›´æ¥å°†æ•°æ®åŠ å…¥dataä¸­;å¦‚æœåœ¨dataä¸­å·²ç»æœ‰è¯¥å€¼,åˆ™ä¿®æ”¹å®ƒæœ‰ç€åˆ›å»º+æ›´æ–°åŠŸèƒ½  ä½†æ­£å¸¸æ˜¯ç”¨æ¥æ›´æ–°
>
>```jsx
>Page({
>    data: {posts: [],test: "æµ‹è¯•æ•°æ®",flag: true},
>    //æ›´æ–°
>	this.setData({posts: content})
>})
>```

#### 2) å¸¸è§çš„ setData æ“ä½œé”™è¯¯

##### â‘  **é¢‘ç¹çš„å» setData**

>åœ¨æˆ‘ä»¬åˆ†æè¿‡çš„ä¸€äº›æ¡ˆä¾‹é‡Œï¼Œéƒ¨åˆ†å°ç¨‹åºä¼šéå¸¸é¢‘ç¹ï¼ˆæ¯«ç§’çº§ï¼‰çš„å»`setData`ï¼Œå…¶å¯¼è‡´äº†ä¸¤ä¸ªåæœï¼š
>
>- Android ä¸‹ç”¨æˆ·åœ¨æ»‘åŠ¨æ—¶ä¼šæ„Ÿè§‰åˆ°å¡é¡¿ï¼Œæ“ä½œåé¦ˆå»¶è¿Ÿä¸¥é‡ï¼Œå› ä¸º JS çº¿ç¨‹ä¸€ç›´åœ¨ç¼–è¯‘æ‰§è¡Œæ¸²æŸ“ï¼Œæœªèƒ½åŠæ—¶å°†ç”¨æˆ·æ“ä½œäº‹ä»¶ä¼ é€’åˆ°é€»è¾‘å±‚ï¼Œé€»è¾‘å±‚äº¦æ— æ³•åŠæ—¶å°†æ“ä½œå¤„ç†ç»“æœåŠæ—¶ä¼ é€’åˆ°è§†å›¾å±‚ï¼›
>- æ¸²æŸ“æœ‰å‡ºç°å»¶æ—¶ï¼Œç”±äº WebView çš„ JS çº¿ç¨‹ä¸€ç›´å¤„äºå¿™ç¢ŒçŠ¶æ€ï¼Œé€»è¾‘å±‚åˆ°é¡µé¢å±‚çš„é€šä¿¡è€—æ—¶ä¸Šå‡ï¼Œè§†å›¾å±‚æ”¶åˆ°çš„æ•°æ®æ¶ˆæ¯æ—¶è·ç¦»å‘å‡ºæ—¶é—´å·²ç»è¿‡å»äº†å‡ ç™¾æ¯«ç§’ï¼Œæ¸²æŸ“çš„ç»“æœå¹¶ä¸å®æ—¶ï¼›

##### â‘¡ **æ¯æ¬¡ setData éƒ½ä¼ é€’å¤§é‡æ–°æ•°æ®**

>ç”±`setData`çš„åº•å±‚å®ç°å¯çŸ¥ï¼Œæˆ‘ä»¬çš„æ•°æ®ä¼ è¾“å®é™…æ˜¯ä¸€æ¬¡ `evaluateJavascript` è„šæœ¬è¿‡ç¨‹ï¼Œå½“æ•°æ®é‡è¿‡å¤§æ—¶ä¼šå¢åŠ è„šæœ¬çš„ç¼–è¯‘æ‰§è¡Œæ—¶é—´ï¼Œå ç”¨ WebView JS çº¿ç¨‹ï¼Œ

##### â‘¢ **åå°æ€é¡µé¢è¿›è¡Œ setData**

>å½“é¡µé¢è¿›å…¥åå°æ€ï¼ˆç”¨æˆ·ä¸å¯è§ï¼‰ï¼Œä¸åº”è¯¥ç»§ç»­å»è¿›è¡Œ`setData`ï¼Œåå°æ€é¡µé¢çš„æ¸²æŸ“ç”¨æˆ·æ˜¯æ— æ³•æ„Ÿå—çš„ï¼Œå¦å¤–åå°æ€é¡µé¢å»`setData`ä¹Ÿä¼šæŠ¢å å‰å°é¡µé¢çš„æ‰§è¡Œ

## 4ã€[äº‹ä»¶ç³»ç»Ÿ](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html)

### â… -ä»€ä¹ˆæ˜¯äº‹ä»¶?

>- `äº‹ä»¶æ˜¯è§†å›¾å±‚åˆ°é€»è¾‘å±‚çš„é€šè®¯æ–¹å¼`ã€‚
>- äº‹ä»¶å¯ä»¥å°†ç”¨æˆ·çš„è¡Œä¸ºåé¦ˆåˆ°é€»è¾‘å±‚è¿›è¡Œå¤„ç†ã€‚
>- äº‹ä»¶å¯ä»¥ç»‘å®šåœ¨ç»„ä»¶ä¸Šï¼Œå½“è¾¾åˆ°è§¦å‘äº‹ä»¶ï¼Œå°±ä¼šæ‰§è¡Œé€»è¾‘å±‚ä¸­å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚
>- äº‹ä»¶å¯¹è±¡å¯ä»¥æºå¸¦é¢å¤–ä¿¡æ¯ï¼Œå¦‚ id, dataset, touchesã€‚

### â…¡-äº‹ä»¶åˆ†ç±»

>äº‹ä»¶åˆ†ä¸ºå†’æ³¡äº‹ä»¶å’Œéå†’æ³¡äº‹ä»¶ï¼š
>
>1. `å†’æ³¡äº‹ä»¶`ï¼šå½“ä¸€ä¸ªç»„ä»¶ä¸Šçš„äº‹ä»¶è¢«è§¦å‘åï¼Œè¯¥äº‹ä»¶ä¼šå‘çˆ¶èŠ‚ç‚¹ä¼ é€’ã€‚
>
>2. `éå†’æ³¡äº‹ä»¶`ï¼šå½“ä¸€ä¸ªç»„ä»¶ä¸Šçš„äº‹ä»¶è¢«è§¦å‘åï¼Œè¯¥äº‹ä»¶ä¸ä¼šå‘çˆ¶èŠ‚ç‚¹ä¼ é€’ã€‚
>
>3. WXMLçš„å†’æ³¡äº‹ä»¶åˆ—è¡¨ï¼š
>
> | ç±»å‹               | è§¦å‘æ¡ä»¶                                                     | æœ€ä½ç‰ˆæœ¬                                                     |
> | :----------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
> | touchstart         | æ‰‹æŒ‡è§¦æ‘¸åŠ¨ä½œå¼€å§‹                                             |                                                              |
> | touchmove          | æ‰‹æŒ‡è§¦æ‘¸åç§»åŠ¨                                               |                                                              |
> | touchcancel        | æ‰‹æŒ‡è§¦æ‘¸åŠ¨ä½œè¢«æ‰“æ–­ï¼Œå¦‚æ¥ç”µæé†’ï¼Œå¼¹çª—                         |                                                              |
> | touchend           | æ‰‹æŒ‡è§¦æ‘¸åŠ¨ä½œç»“æŸ                                             |                                                              |
> | tap                | æ‰‹æŒ‡è§¦æ‘¸åé©¬ä¸Šç¦»å¼€                                           |                                                              |
> | longpress          | æ‰‹æŒ‡è§¦æ‘¸åï¼Œè¶…è¿‡350mså†ç¦»å¼€ï¼Œå¦‚æœæŒ‡å®šäº†äº‹ä»¶å›è°ƒå‡½æ•°å¹¶è§¦å‘äº†è¿™ä¸ªäº‹ä»¶ï¼Œtapäº‹ä»¶å°†ä¸è¢«è§¦å‘ | [1.5.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
> | longtap            | æ‰‹æŒ‡è§¦æ‘¸åï¼Œè¶…è¿‡350mså†ç¦»å¼€ï¼ˆæ¨èä½¿ç”¨longpressäº‹ä»¶ä»£æ›¿ï¼‰     |                                                              |
> | transitionend      | ä¼šåœ¨ WXSS transition æˆ– wx.createAnimation åŠ¨ç”»ç»“æŸåè§¦å‘    |                                                              |
> | animationstart     | ä¼šåœ¨ä¸€ä¸ª WXSS animation åŠ¨ç”»å¼€å§‹æ—¶è§¦å‘                       |                                                              |
> | animationiteration | ä¼šåœ¨ä¸€ä¸ª WXSS animation ä¸€æ¬¡è¿­ä»£ç»“æŸæ—¶è§¦å‘                   |                                                              |
> | animationend       | ä¼šåœ¨ä¸€ä¸ª WXSS animation åŠ¨ç”»å®Œæˆæ—¶è§¦å‘                       |                                                              |
> | touchforcechange   | åœ¨æ”¯æŒ 3D Touch çš„ iPhone è®¾å¤‡ï¼Œé‡æŒ‰æ—¶ä¼šè§¦å‘                 | [1.9.90](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
>
>4. `æ³¨`ï¼šé™¤ä¸Šè¡¨ä¹‹å¤–çš„å…¶ä»–ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶å¦‚æ— ç‰¹æ®Šå£°æ˜`éƒ½æ˜¯éå†’æ³¡äº‹ä»¶`ï¼Œå¦‚ [form](https://developers.weixin.qq.com/miniprogram/dev/component/form.html) çš„`submit`äº‹ä»¶ï¼Œ[input](https://developers.weixin.qq.com/miniprogram/dev/component/input.html) çš„`input`äº‹ä»¶ï¼Œ[scroll-view](https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html) çš„`scroll`äº‹ä»¶ï¼Œ(è¯¦è§å„ä¸ª[ç»„ä»¶](https://developers.weixin.qq.com/miniprogram/dev/component/))



### â…¢-äº‹ä»¶çš„ç»‘å®šæ–¹å¼

#### 1) æ™®é€šäº‹ä»¶ç»‘å®š-`bind` ç»‘å®š

>1. ä»£ç ç¤ºä¾‹
>
>   ```jsx
>   <view bindtap="tapName" class='start_container'>
>   //ä¹Ÿå¯ä»¥åŠ å†’å·åˆ†éš”
>   	//<view bind:tap="tapName" class='start_container'>
>   <text class='start'>å¼€å¯å°ç¨‹åºä¹‹æ—…</text>
>   </view>
>   Page({
>     tapName: function(event) { console.log(event)}
>   })
>   ```
>
>2. å¦‚æœç”¨æˆ·ç‚¹å‡»è¿™ä¸ª view ï¼Œåˆ™é¡µé¢çš„ `tapName` ä¼šè¢«è°ƒç”¨ã€‚
>
>3. æ­¤æ—¶ï¼Œé¡µé¢çš„ `this.data.tapName` å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°åï¼›å¦‚æœå®ƒæ˜¯ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿™ä¸ªç»‘å®šä¼šå¤±æ•ˆï¼ˆå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥æš‚æ—¶ç¦ç”¨ä¸€äº›äº‹ä»¶ï¼‰
>
>4. è‡ªåŸºç¡€åº“ç‰ˆæœ¬ [1.5.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) èµ·ï¼Œåœ¨å¤§å¤šæ•°ç»„ä»¶å’Œè‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼Œ `bind` åå¯ä»¥ç´§è·Ÿä¸€ä¸ªå†’å·ï¼Œå…¶å«ä¹‰ä¸å˜ï¼Œå¦‚ `bind:tap` ã€‚åŸºç¡€åº“ç‰ˆæœ¬ [2.8.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) èµ·ï¼Œåœ¨æ‰€æœ‰ç»„ä»¶ä¸­å¼€å§‹æä¾›è¿™ä¸ªæ”¯æŒã€‚

#### 2) ç»‘å®šå¹¶é˜»æ­¢äº‹ä»¶å†’æ³¡-`catch` ç»‘å®š: 

>1. é™¤ `bind` å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨ `catch` æ¥ç»‘å®šäº‹ä»¶ã€‚ä¸ `bind` ä¸åŒï¼Œ `catch` ä¼šé˜»æ­¢äº‹ä»¶å‘ä¸Šå†’æ³¡ã€‚
>
>2. ä»£ç ç¤ºä¾‹:
>
>   ```jsx
>   <view id="outer" bindtap="handleTap1">
>     outer view
>     <view id="middle" catchtap="handleTap2">
>       middle view
>       <view id="inner" bindtap="handleTap3">
>         inner view
>       </view>
>     </view>
>   </view>
>   ```
>
>3. ä¾‹å¦‚åœ¨ä¸Šè¾¹è¿™ä¸ªä¾‹å­ä¸­ï¼Œç‚¹å‡» inner view ä¼šå…ˆåè°ƒç”¨`handleTap3`å’Œ`handleTap2`(å› ä¸ºtapäº‹ä»¶ä¼šå†’æ³¡åˆ° middle viewï¼Œè€Œ middle view é˜»æ­¢äº† tap äº‹ä»¶å†’æ³¡ï¼Œä¸å†å‘çˆ¶èŠ‚ç‚¹ä¼ é€’)ï¼Œç‚¹å‡» middle view ä¼šè§¦å‘`handleTap2`ï¼Œç‚¹å‡» outer view ä¼šè§¦å‘`handleTap1`ã€‚

#### 3) äº’æ–¥äº‹ä»¶ç»‘å®š

>1. è‡ªåŸºç¡€åº“ç‰ˆæœ¬ [2.8.2](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) èµ·ï¼Œé™¤ `bind` å’Œ `catch` å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ `mut-bind` æ¥ç»‘å®šäº‹ä»¶ã€‚ä¸€ä¸ª `mut-bind` è§¦å‘åï¼Œå¦‚æœäº‹ä»¶å†’æ³¡åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šï¼Œå…¶ä»–èŠ‚ç‚¹ä¸Šçš„ `mut-bind` ç»‘å®šå‡½æ•°ä¸ä¼šè¢«è§¦å‘ï¼Œä½† `bind` ç»‘å®šå‡½æ•°å’Œ `catch` ç»‘å®šå‡½æ•°ä¾æ—§ä¼šè¢«è§¦å‘ã€‚
>
>2. æ¢è€Œè¨€ä¹‹ï¼Œæ‰€æœ‰ `mut-bind` æ˜¯â€œäº’æ–¥â€çš„ï¼Œåªä¼šæœ‰å…¶ä¸­ä¸€ä¸ªç»‘å®šå‡½æ•°è¢«è§¦å‘ã€‚åŒæ—¶ï¼Œå®ƒå®Œå…¨ä¸å½±å“ `bind` å’Œ `catch` çš„ç»‘å®šæ•ˆæœ
>
>3. ä¾‹å¦‚åœ¨ä¸‹è¾¹è¿™ä¸ªä¾‹å­ä¸­ï¼Œç‚¹å‡» inner view ä¼šå…ˆåè°ƒç”¨ `handleTap3` å’Œ `handleTap2` ï¼Œç‚¹å‡» middle view ä¼šè°ƒç”¨ `handleTap2` å’Œ `handleTap1` 
>
>   ```jsx
>   <view id="outer" mut-bind:tap="handleTap1">
>     outer view
>     <view id="middle" bindtap="handleTap2">
>       middle view
>       <view id="inner" mut-bind:tap="handleTap3">
>         inner view
>       </view>
>     </view>
>   </view>
>   ```

### â…£-äº‹ä»¶çš„æ•è·é˜¶æ®µ

>1. è‡ªåŸºç¡€åº“ç‰ˆæœ¬ [1.5.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) èµ·ï¼Œè§¦æ‘¸ç±»äº‹ä»¶æ”¯æŒæ•è·é˜¶æ®µã€‚æ•è·é˜¶æ®µä½äºå†’æ³¡é˜¶æ®µä¹‹å‰ï¼Œä¸”åœ¨æ•è·é˜¶æ®µä¸­ï¼Œäº‹ä»¶åˆ°è¾¾èŠ‚ç‚¹çš„é¡ºåºä¸å†’æ³¡é˜¶æ®µ`æ°å¥½ç›¸å`ã€‚éœ€è¦åœ¨æ•è·é˜¶æ®µç›‘å¬äº‹ä»¶æ—¶ï¼Œå¯ä»¥é‡‡ç”¨`capture-bind`ã€`capture-catch`å…³é”®å­—ï¼Œåè€…å°†ä¸­æ–­æ•è·é˜¶æ®µå’Œå–æ¶ˆå†’æ³¡é˜¶æ®µã€‚
>
>2. åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œç‚¹å‡» inner view ä¼šå…ˆåè°ƒç”¨`handleTap2`ã€`handleTap4`ã€`handleTap3`ã€`handleTap1`
>
>   ```jsx
>   <view id="outer" bind:touchstart="handleTap1" capture-bind:touchstart="handleTap2">
>     outer view
>     <view id="inner" bind:touchstart="handleTap3" capture-bind:touchstart="handleTap4">
>       inner view
>     </view>
>   </view>
>   ```
>
>   å¦‚æœå°†ä¸Šé¢ä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªcapture-bindæ”¹ä¸ºcapture-catchï¼Œå°†`åªè§¦å‘handleTap2`ã€‚
>
>   ```jsx
>   <view id="outer" bind:touchstart="handleTap1" capture-catch:touchstart="handleTap2">
>     outer view
>     <view id="inner" bind:touchstart="handleTap3" capture-bind:touchstart="handleTap4">
>       inner view
>     </view>
>   </view>
>   ```

### â…¤-äº‹ä»¶å¯¹è±¡

>å¦‚æ— ç‰¹æ®Šè¯´æ˜ï¼Œå½“ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶ï¼Œé€»è¾‘å±‚ç»‘å®šè¯¥äº‹ä»¶çš„å¤„ç†å‡½æ•°ä¼šæ”¶åˆ°ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ã€‚

#### 1) **BaseEvent åŸºç¡€äº‹ä»¶å¯¹è±¡å±æ€§åˆ—è¡¨**

>1. è¡¨æ ¼:
>
> | å±æ€§                                                         | ç±»å‹    | è¯´æ˜                                                 | åŸºç¡€åº“ç‰ˆæœ¬                                                   |
> | :----------------------------------------------------------- | :------ | :--------------------------------------------------- | :----------------------------------------------------------- |
> | [type](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#type) | String  | ä»£è¡¨äº‹ä»¶çš„ç±»å‹                                       |                                                              |
> | [timeStamp](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#timeStamp) | Integer | äº‹ä»¶ç”Ÿæˆæ—¶çš„æ—¶é—´æˆ³--é¡µé¢æ‰“å¼€åˆ°è§¦å‘äº‹ä»¶æ‰€ç»è¿‡çš„æ¯«ç§’æ•° |                                                              |
> | [target](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#target) | Object  | è§¦å‘äº‹ä»¶çš„ç»„ä»¶çš„ä¸€äº›å±æ€§å€¼é›†åˆ--è§¦å‘äº‹ä»¶çš„æºç»„ä»¶     |                                                              |
> | [currentTarget](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#currenttarget) | Object  | å½“å‰ç»„ä»¶çš„ä¸€äº›å±æ€§å€¼é›†åˆ--äº‹ä»¶ç»‘å®šçš„å½“å‰ç»„ä»¶         |                                                              |
> | [mark](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#mark) | Object  | äº‹ä»¶æ ‡è®°æ•°æ®                                         | [2.7.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
>
>2. è¡¥å……è¯´æ˜
>
>   1. target
>
>      | å±æ€§                                                         | ç±»å‹   | è¯´æ˜                                            |
>      | :----------------------------------------------------------- | :----- | :---------------------------------------------- |
>      | id                                                           | String | äº‹ä»¶æºç»„ä»¶çš„id                                  |
>      | [dataset](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#dataset) | Object | äº‹ä»¶æºç»„ä»¶ä¸Šç”±`data-`å¼€å¤´çš„è‡ªå®šä¹‰å±æ€§ç»„æˆçš„é›†åˆ |
>
>   2. currentTarget
>
>      | å±æ€§                                                         | ç±»å‹   | è¯´æ˜                                          |
>      | :----------------------------------------------------------- | :----- | :-------------------------------------------- |
>      | id                                                           | String | å½“å‰ç»„ä»¶çš„id                                  |
>      | [dataset](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#dataset) | Object | å½“å‰ç»„ä»¶ä¸Šç”±`data-`å¼€å¤´çš„è‡ªå®šä¹‰å±æ€§ç»„æˆçš„é›†åˆ |
>
>      `è¯´æ˜`ï¼š target å’Œ currentTarget å¯ä»¥å‚è€ƒä¸Šä¾‹ä¸­ï¼Œç‚¹å‡» inner view æ—¶ï¼Œ`handleTap3` æ”¶åˆ°çš„äº‹ä»¶å¯¹è±¡ target å’Œ currentTarget éƒ½æ˜¯ innerï¼Œè€Œ `handleTap2` æ”¶åˆ°çš„äº‹ä»¶å¯¹è±¡ target å°±æ˜¯ innerï¼ŒcurrentTarget å°±æ˜¯ middle

#### 2) **TouchEvent è§¦æ‘¸äº‹ä»¶å¯¹è±¡å±æ€§åˆ—è¡¨ï¼ˆç»§æ‰¿ BaseEventï¼‰ï¼š**

>1. è¡¨æ ¼:
>
> | å±æ€§                                                         | ç±»å‹  | è¯´æ˜                                         |
> | :----------------------------------------------------------- | :---- | :------------------------------------------- |
> | [touches](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#touches) | Array | è§¦æ‘¸äº‹ä»¶ï¼Œå½“å‰åœç•™åœ¨å±å¹•ä¸­çš„è§¦æ‘¸ç‚¹ä¿¡æ¯çš„æ•°ç»„ |
> | [changedTouches](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#changedTouches) | Array | è§¦æ‘¸äº‹ä»¶ï¼Œå½“å‰å˜åŒ–çš„è§¦æ‘¸ç‚¹ä¿¡æ¯çš„æ•°ç»„         |
>
>2. è¡¥å……è¯´æ˜
>
>   1. touches
>
>      touches æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ ä¸ºä¸€ä¸ª Touch å¯¹è±¡ï¼ˆcanvas è§¦æ‘¸äº‹ä»¶ä¸­æºå¸¦çš„ touches æ˜¯ CanvasTouch æ•°ç»„ï¼‰ã€‚ è¡¨ç¤ºå½“å‰åœç•™åœ¨å±å¹•ä¸Šçš„è§¦æ‘¸ç‚¹ã€‚
>
>      | å±æ€§             | ç±»å‹   | è¯´æ˜                                                         |
>      | :--------------- | :----- | :----------------------------------------------------------- |
>      | identifier       | Number | è§¦æ‘¸ç‚¹çš„æ ‡è¯†ç¬¦                                               |
>      | pageX, pageY     | Number | è·ç¦»æ–‡æ¡£å·¦ä¸Šè§’çš„è·ç¦»ï¼Œæ–‡æ¡£çš„å·¦ä¸Šè§’ä¸ºåŸç‚¹ ï¼Œæ¨ªå‘ä¸ºXè½´ï¼Œçºµå‘ä¸ºYè½´ |
>      | clientX, clientY | Number | è·ç¦»é¡µé¢å¯æ˜¾ç¤ºåŒºåŸŸï¼ˆå±å¹•é™¤å»å¯¼èˆªæ¡ï¼‰å·¦ä¸Šè§’è·ç¦»ï¼Œæ¨ªå‘ä¸ºXè½´ï¼Œçºµå‘ä¸ºYè½´ |
>
>   2. changedTouches
>
>      changedTouches æ•°æ®æ ¼å¼åŒ touchesã€‚ è¡¨ç¤ºæœ‰å˜åŒ–çš„è§¦æ‘¸ç‚¹ï¼Œå¦‚ä»æ— å˜æœ‰ï¼ˆtouchstartï¼‰ï¼Œä½ç½®å˜åŒ–ï¼ˆtouchmoveï¼‰ï¼Œä»æœ‰å˜æ— ï¼ˆtouchendã€touchcancelï¼‰

#### 3) **CustomEvent è‡ªå®šä¹‰äº‹ä»¶å¯¹è±¡å±æ€§åˆ—è¡¨ï¼ˆç»§æ‰¿ BaseEventï¼‰ï¼š**

>1. è¡¨æ ¼
>
> | å±æ€§                                                         | ç±»å‹   | è¯´æ˜                                                         |
> | :----------------------------------------------------------- | :----- | :----------------------------------------------------------- |
> | [detail](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#detail) | Object | é¢å¤–çš„ä¿¡æ¯<br />è‡ªå®šä¹‰äº‹ä»¶æ‰€æºå¸¦çš„æ•°æ®ï¼Œå¦‚è¡¨å•ç»„ä»¶çš„æäº¤äº‹ä»¶ä¼šæºå¸¦ç”¨æˆ·çš„è¾“å…¥ï¼Œåª’ä½“çš„é”™è¯¯äº‹ä»¶ä¼šæºå¸¦é”™è¯¯ä¿¡æ¯ï¼Œè¯¦è§[ç»„ä»¶](https://developers.weixin.qq.com/miniprogram/dev/component)å®šä¹‰ä¸­å„ä¸ªäº‹ä»¶çš„å®šä¹‰ã€‚ |



------



# äº”ã€é€»è¾‘å±‚è¯¦è§£

>1. åŸç†:å°ç¨‹åºå¼€å‘æ¡†æ¶çš„é€»è¾‘å±‚ä½¿ç”¨ `JavaScript` å¼•æ“ä¸ºå°ç¨‹åºæä¾›å¼€å‘è€… `JavaScript` ä»£ç çš„è¿è¡Œç¯å¢ƒä»¥åŠå¾®ä¿¡å°ç¨‹åºçš„ç‰¹æœ‰åŠŸèƒ½ã€‚
>
>   â€‹	é€»è¾‘å±‚å°†æ•°æ®è¿›è¡Œå¤„ç†åå‘é€ç»™è§†å›¾å±‚ï¼ŒåŒæ—¶æ¥å—è§†å›¾å±‚çš„äº‹ä»¶åé¦ˆã€‚
>
>   â€‹	å¼€å‘è€…å†™çš„æ‰€æœ‰ä»£ç æœ€ç»ˆå°†ä¼šæ‰“åŒ…æˆä¸€ä»½ `JavaScript` æ–‡ä»¶ï¼Œå¹¶åœ¨å°ç¨‹åºå¯åŠ¨çš„æ—¶å€™è¿è¡Œï¼Œç›´åˆ°å°ç¨‹åºé”€æ¯ã€‚è¿™ä¸€è¡Œä¸ºç±»ä¼¼[ServiceWorker](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)ï¼Œæ‰€ä»¥é€»è¾‘å±‚ä¹Ÿç§°ä¹‹ä¸º App Serviceã€‚
>
>2. åœ¨ `JavaScript` çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¢åŠ äº†ä¸€äº›åŠŸèƒ½ï¼Œä»¥æ–¹ä¾¿å°ç¨‹åºçš„å¼€å‘ï¼š
>   - å¢åŠ  `App` å’Œ `Page` æ–¹æ³•ï¼Œè¿›è¡Œ[ç¨‹åºæ³¨å†Œ](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html)å’Œ[é¡µé¢æ³¨å†Œ](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html)ã€‚
>   - å¢åŠ  `getApp` å’Œ `getCurrentPages` æ–¹æ³•ï¼Œåˆ†åˆ«ç”¨æ¥è·å– `App` å®ä¾‹å’Œå½“å‰é¡µé¢æ ˆã€‚
>   - æä¾›ä¸°å¯Œçš„ [API](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html)ï¼Œå¦‚å¾®ä¿¡ç”¨æˆ·æ•°æ®ï¼Œæ‰«ä¸€æ‰«ï¼Œæ”¯ä»˜ç­‰å¾®ä¿¡ç‰¹æœ‰èƒ½åŠ›ã€‚
>   - æä¾›[æ¨¡å—åŒ–](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/module.html#æ¨¡å—åŒ–)èƒ½åŠ›ï¼Œæ¯ä¸ªé¡µé¢æœ‰ç‹¬ç«‹çš„[ä½œç”¨åŸŸ](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/module.html#æ–‡ä»¶ä½œç”¨åŸŸ)ã€‚
>
>**æ³¨æ„ï¼šå°ç¨‹åºæ¡†æ¶çš„é€»è¾‘å±‚å¹¶éè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œå› æ­¤ `JavaScript` åœ¨ web ä¸­ä¸€äº›èƒ½åŠ›éƒ½æ— æ³•ä½¿ç”¨ï¼Œå¦‚ `window`ï¼Œ`document` ç­‰ã€‚**
>
>è¯¥éƒ¨åˆ†å°†`æˆªå–å®˜æ–¹æ–‡æ¡£`å¹¶åŠ ä»¥æ³¨è§£

## 1ã€é¡µé¢è·¯ç”±

>åœ¨å°ç¨‹åºä¸­æ‰€æœ‰é¡µé¢çš„è·¯ç”±å…¨éƒ¨ç”±æ¡†æ¶è¿›è¡Œç®¡ç†

### â… -é¡µé¢æ ˆä¸è·¯ç”±æ–¹å¼

>1. æ¡†æ¶ä»¥`æ ˆ`çš„å½¢å¼ç»´æŠ¤äº†å½“å‰çš„æ‰€æœ‰é¡µé¢ã€‚
>2. å¯¹äºè·¯ç”±çš„`è§¦å‘æ–¹å¼`ä»¥åŠé¡µé¢`ç”Ÿå‘½å‘¨æœŸå‡½æ•°`å¦‚ä¸‹ï¼š
>
>| è·¯ç”±æ–¹å¼   | é¡µé¢æ ˆè¡¨ç°                                                   | è§¦å‘æ—¶æœº                                                     | è·¯ç”±å‰é¡µé¢ | è·¯ç”±åé¡µé¢         |
>| :--------- | ------------------------------------------------------------ | :----------------------------------------------------------- | :--------- | :----------------- |
>| åˆå§‹åŒ–     | æ–°é¡µé¢å…¥æ ˆ                                                   | å°ç¨‹åºæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢                                       |            | onLoad, onShow     |
>| æ‰“å¼€æ–°é¡µé¢ | æ–°é¡µé¢å…¥æ ˆ                                                   | è°ƒç”¨ API [wx.navigateTo](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html) <br />ä½¿ç”¨ç»„ä»¶<navigator open-type="navigateTo"/> | onHide     | onLoad, onShow     |
>| é¡µé¢é‡å®šå‘ | å½“å‰é¡µé¢å‡ºæ ˆï¼Œæ–°é¡µé¢å…¥æ ˆ                                     | è°ƒç”¨ API [wx.redirectTo](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html) <br />ä½¿ç”¨ç»„ä»¶<navigator open-type="redirectTo"/> | onUnload   | onLoad, onShow     |
>| é¡µé¢è¿”å›   | é¡µé¢ä¸æ–­å‡ºæ ˆï¼Œç›´åˆ°ç›®æ ‡è¿”å›é¡µ                                 | è°ƒç”¨ API [wx.navigateBack](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html) <br />ä½¿ç”¨ç»„ä»¶<navigator open-type="navigateBack"/> <br />ç”¨æˆ·æŒ‰å·¦ä¸Šè§’è¿”å›æŒ‰é’® | onUnload   | onShow             |
>| Tab åˆ‡æ¢   | é¡µé¢å…¨éƒ¨å‡ºæ ˆï¼Œåªç•™ä¸‹æ–°çš„ Tab é¡µé¢<br />å¦‚æœä»æ²¡æœ‰`tabBar`çš„é¡µé¢è·³è½¬è‡³æœ‰`tabBar`çš„é¡µé¢å°±`ä¸€å®šè¦ç”¨è¿™ä¸ª`,è€Œä¸æ˜¯ä¸Šé¢çš„,å¦åˆ™ä¼šæŠ¥é”™ | è°ƒç”¨ API [wx.switchTab](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html) <br />ä½¿ç”¨ç»„ä»¶<navigator open-type="switchTab"/><br />ç”¨æˆ·åˆ‡æ¢ Tab |            | å„ç§æƒ…å†µè¯·å‚è€ƒä¸‹è¡¨ |
>| é‡å¯åŠ¨     | é¡µé¢å…¨éƒ¨å‡ºæ ˆï¼Œåªç•™ä¸‹æ–°çš„é¡µé¢                                 | è°ƒç”¨ API [wx.reLaunch](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.reLaunch.html) <br />ä½¿ç”¨ç»„ä»¶<navigator open-type="reLaunch"/> | onUnload   | onLoad, onShow     |
>
>2. ä»£ç ç¤ºä¾‹:
>
>   ```jsx
>   wx.navigateTo({ //å½“å‰é¡µé¢è¢«éšè—ï¼Œç¼“å­˜åœ¨æ ˆä¸­ï¼Œæœ€å¤šå­˜æ”¾10ä¸ªé¡µé¢
>   url: "/pages/posts/post" //è·³è½¬çš„é¡µé¢è·¯å¾„
>   })
>    wx.redirectTo({ //å½“å‰é¡µé¢è¢«é”€æ¯
>   url: "/pages/posts/post"
>   })
>   ```
>
>3. Tab åˆ‡æ¢å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä»¥ Aã€B é¡µé¢ä¸º Tabbar é¡µé¢ï¼ŒC æ˜¯ä» A é¡µé¢æ‰“å¼€çš„é¡µé¢ï¼ŒD é¡µé¢æ˜¯ä» C é¡µé¢æ‰“å¼€çš„é¡µé¢ä¸ºä¾‹ï¼‰ï¼š
>
>| å½“å‰é¡µé¢        | è·¯ç”±åé¡µé¢    | è§¦å‘çš„ç”Ÿå‘½å‘¨æœŸï¼ˆæŒ‰é¡ºåºï¼‰                           |
>| :-------------- | :------------ | :------------------------------------------------- |
>| A               | A             | Nothing happend                                    |
>| A               | B             | A.onHide(), B.onLoad(), B.onShow()                 |
>| A               | Bï¼ˆå†æ¬¡æ‰“å¼€ï¼‰ | A.onHide(), B.onShow()                             |
>| C               | A             | C.onUnload(), A.onShow()                           |
>| C               | B             | C.onUnload(), B.onLoad(), B.onShow()               |
>| D               | B             | D.onUnload(), C.onUnload(), B.onLoad(), B.onShow() |
>| Dï¼ˆä»è½¬å‘è¿›å…¥ï¼‰ | A             | D.onUnload(), A.onLoad(), A.onShow()               |
>| Dï¼ˆä»è½¬å‘è¿›å…¥ï¼‰ | B             | D.onUnload(), B.onLoad(), B.onShow()               |

### â…¡-Tips

>- `navigateTo`, `redirectTo` åªèƒ½æ‰“å¼€é tabBar é¡µé¢ã€‚
>- `switchTab` åªèƒ½æ‰“å¼€ tabBar é¡µé¢ã€‚
>- `reLaunch` å¯ä»¥æ‰“å¼€ä»»æ„é¡µé¢ã€‚
>- é¡µé¢åº•éƒ¨çš„ tabBar ç”±é¡µé¢å†³å®šï¼Œå³åªè¦æ˜¯å®šä¹‰ä¸º tabBar çš„é¡µé¢ï¼Œåº•éƒ¨éƒ½æœ‰ tabBarã€‚
>- è°ƒç”¨é¡µé¢è·¯ç”±å¸¦çš„å‚æ•°å¯ä»¥åœ¨ç›®æ ‡é¡µé¢çš„`onLoad`ä¸­è·å–ã€‚
>- `æ³¨æ„`:å¼€å‘è€…å¯ä»¥ä½¿ç”¨ `getCurrentPages()` å‡½æ•°è·å–å½“å‰é¡µé¢æ ˆ
>- é¡µé¢æ ˆä¸­æœ€å¤šå­˜åœ¨`10`ä¸ª

## 2ã€æ¨¡å—åŒ–

>å¯ä»¥å°†ä¸€äº›å…¬å…±çš„ä»£ç æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—åªæœ‰é€šè¿‡ [`module.exports`](https://developers.weixin.qq.com/miniprogram/dev/reference/api/module.html) æˆ–è€… `exports` æ‰èƒ½å¯¹å¤–æš´éœ²æ¥å£ã€‚







------

# å…­ã€ç»„ä»¶ä¸ç»„ä»¶åº“

## 1ã€å®˜æ–¹ç»„ä»¶

>é‡ç‚¹ä¸¾ä¾‹â¼©ç¨‹åºä¸­å¸¸â½¤çš„å¸ƒå±€ç»„ä»¶ view,tex ç­‰,ç°åªä¸¾ä¾‹éƒ¨åˆ†,ä¹‹åé‡åˆ°è§‰å¾—éœ€è¦markå†å†™å…¥,å¤§éƒ¨åˆ†å¯ä»¥çœ‹[å®˜æ–¹æ–‡æ¡£ç»„ä»¶éƒ¨åˆ†](https://developers.weixin.qq.com/miniprogram/dev/component/),ä¾¿ä¸å¤ªå¤šèµ˜è¿°

### â… -[view](https://developers.weixin.qq.com/miniprogram/dev/component/view.html)

>1. åœ¨å°ç¨‹åºä¸­,é€šå¸¸ä½¿ç”¨`<view/>`ä»£æ›¿`<div/>`ä½œä¸ºå®¹å™¨æ¥åšå¸ƒå±€
>
>   ```xml
>   <!--pages/welcome/welcome.wxml-->
>   <view class="container">
>     <image class="avatar" src="/images/æµ‹è¯•å¤´åƒå›¾ç‰‡.jpg"></image>
>     <text>Hello,æ´ªjl</text>
>     <!-- <button>å¼€å¯å°ç¨‹åºä¹‹æ—…</button> -->
>     <view>
>       <text>å¼€å¯å°ç¨‹åºä¹‹æ—…</text>
>     </view>
>   </view>
>   ```

### â…¡-[text](https://developers.weixin.qq.com/miniprogram/dev/component/text.html)

>1. â½‚æœ¬æ ‡ç­¾ 
>
>2. åªèƒ½åµŒå¥—text 
>
>3. â»“æŒ‰â½‚å­—å¯ä»¥å¤åˆ¶ï¼ˆåªæœ‰è¯¥æ ‡ç­¾æœ‰è¿™ä¸ªåŠŸèƒ½ï¼‰-->selectable
>
>4. å¯ä»¥å¯¹å¦‚: `ç©ºæ ¼å›è½¦&nbsp;` è¿›â¾ç¼–ç   -->decode
>
> | å±æ€§å     | ç±»å‹    | é»˜è®¤å€¼ | è¯´æ˜         |
> | ---------- | ------- | ------ | ------------ |
> | selectable | Boolean | false  | â½‚æœ¬æ˜¯å¦å¯é€‰ |
> | decode     | Boolean | false  | æ˜¯å¦è§£ç      |
>
>   ```jsx
>   <text selectable="{{false}}" decode="{{false}}">
>      æ™®&nbsp;é€š
>    </text>
>   ```

### â…¢-[image](https://developers.weixin.qq.com/miniprogram/dev/component/image.html)

>1. å›¾â½šæ ‡ç­¾ï¼Œimageç»„ä»¶`é»˜è®¤`å®½åº¦320pxã€â¾¼åº¦240px,æ‰€ä»¥å¦‚æœä¸è¿›è¡Œå®½é«˜è®¾ç½®,ä¸ä¼šè¿›è¡Œè‡ªé€‚åº”
>
>2. â½€æŒæ‡’åŠ è½½
>
>| å±æ€§å    | ç±»å‹    | é»˜è®¤å€¼        | è¯´æ˜                 |
>| --------- | ------- | ------------- | -------------------- |
>| src       | String  |               | å›¾â½šèµ„æºåœ°å€         |
>| mode      | String  | `scaleToFill` | å›¾â½šè£å‰ªã€ç¼©æ”¾çš„æ¨¡å¼ |
>| lazy-load | Boolean | false         | å›¾â½šæ‡’åŠ è½½           |
>
>3. `mode`æ¨¡å¼åˆ—ä¸¾:
>
>| æ¨¡å¼ | å€¼                                                         | è¯´æ˜                                                       |
>| ---- | ---------------------------------------------------------- | ---------------------------------------------------------- |
>| ç¼©æ”¾ | scaleToFill                                                | ä¸ä¿æŒçºµæ¨ªâ½ç¼©æ”¾å›¾â½šï¼Œä½¿å›¾â½šçš„å®½â¾¼å®Œå…¨æ‹‰ä¼¸â¾„å¡«æ»¡image å…ƒç´  |
>| ç¼©æ”¾ | aspectFit                                                  | ä¿æŒçºµæ¨ªâ½ç¼©æ”¾å›¾â½šï¼Œä½¿å›¾â½šçš„â»“è¾¹èƒ½å®Œå…¨æ˜¾â½°å‡ºæ¥ã€‚           |
>| ç¼©æ”¾ | aspectFill                                                 | ä¿æŒçºµæ¨ªâ½ç¼©æ”¾å›¾â½šï¼Œåªä¿è¯å›¾â½šçš„çŸ­è¾¹èƒ½å®Œå…¨æ˜¾â½°å‡ºæ¥         |
>| ç¼©æ”¾ | widthFix                                                   | å®½åº¦ä¸å˜ï¼Œâ¾¼åº¦â¾ƒåŠ¨å˜åŒ–ï¼Œä¿æŒåŸå›¾å®½â¾¼â½ä¸å˜                 |
>| è£å‰ª | top                                                        | ä¸ç¼©æ”¾å›¾â½šï¼Œåªæ˜¾â½°å›¾â½šçš„é¡¶éƒ¨åŒºåŸŸ                           |
>| è£å‰ª | bottom                                                     | ä¸ç¼©æ”¾å›¾â½šï¼Œåªæ˜¾â½°å›¾â½šçš„åº•éƒ¨åŒºåŸŸ                           |
>| è£å‰ª | center                                                     | ä¸ç¼©æ”¾å›¾â½šï¼Œåªæ˜¾â½°å›¾â½šçš„ä¸­é—´åŒºåŸŸ                           |
>| è£å‰ª | left                                                       | ä¸ç¼©æ”¾å›¾â½šï¼Œåªæ˜¾â½°å›¾â½šçš„å·¦è¾¹åŒºåŸŸ                           |
>| è£å‰ª | right                                                      | ä¸ç¼©æ”¾å›¾â½šï¼Œåªæ˜¾â½°å›¾â½šçš„å³è¾¹åŒºåŸŸ                           |
>| è£å‰ª | `top left`ã€`top right`<br />`bottom left`ã€`bottom right` | ä¸ç¼©æ”¾å›¾â½š,åªæ˜¾ç¤ºå€¼æ‰€æŒ‡å‘åŒºåŸŸ                              |
>
>4. ä»£ç ç¤ºä¾‹:
>
>```jsx
>  <image class="avatar"  mode="aspectFit" src="/images/æµ‹è¯•å¤´åƒå›¾ç‰‡.jpg"></image>
>```
>
>5. åº”ç”¨åœºæ™¯ä¸¾ä¾‹,ç®€å•æ•ˆæœå¯¹æ¯”
>
>    1. ä½¿ç”¨é»˜è®¤modeæ•ˆæœ -->ä¼šå°†å›¾ç‰‡è¿›è¡Œæ‹‰ä¼¸,å¯¼è‡´å›¾ç‰‡å˜å½¢
>
>         ![image-20210507145239985](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210507145239985.png)
>
>    2. è®¾ç½®ä¸º`aspectFill`æ•ˆæœ -->ä¿æŒçºµæ¨ªâ½ç¼©æ”¾å›¾â½šï¼Œåªä¿è¯å›¾â½šçš„çŸ­è¾¹èƒ½å®Œå…¨æ˜¾â½°å‡ºæ¥,å›¾ç‰‡ä¸ä¼šå˜å½¢
>
>       ![image-20210507145301242](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210507145301242.png)
>
>    3. æ ¹æ®ä¸åŒçš„åœºæ™¯é€‰æ‹©ä¸åŒçš„`mode`æ‰æ˜¯æœ€æ­£ç¡®çš„,å°±å¦‚åŒè¯¥æˆªå›¾åœºæ™¯ä¸­,`aspectFill`æ˜æ˜¾ä¼˜äºé»˜è®¤



### â…£-[swiper](https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html)

>æ»‘å—`è§†å›¾å®¹å™¨`ã€‚å…¶ä¸­åªå¯æ”¾ç½®[swiper-item](https://developers.weixin.qq.com/miniprogram/dev/component/swiper-item.html)ç»„ä»¶ï¼Œå¦åˆ™ä¼šå¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸ºã€‚
>
>1. ä»£ç ç¤ºä¾‹
>
>   ```jsx
>   <!--pages/posts/posts.wxml-->
>   <view>
>     <!-- 
>       //1. "false" ==true æ™®é€šå­—ç¬¦ä¸²  
>       //    "{{false}}"==false   {{}}è§†ä½œè¿ç®—æ ‡è®°,é‡Œé¢çš„å†…å®¹è¡¨ç¤ºè¡¨è¾¾å¼ 
>       //2. å½“ä½ çš„å±æ€§ä¸ºtrueæ—¶,å¯ä»¥çœç•¥valueå€¼-- indicator-dots="{{true}}" == indicator-dots
>     -->
>     <swiper indicator-dots="{{true}}" autoplay interval="2000" duration="1000" vertical circular>
>       <swiper-item>
>         <!-- æ’æ§½ -->
>         <image mode="scaleToFill" src="/images/1.jpg"></image>
>       </swiper-item>
>       <swiper-item>
>         <!-- æ’æ§½ -->
>         <image mode="scaleToFill" src="/images/2.jpg"></image>
>       </swiper-item>
>       <swiper-item>
>         <!-- æ’æ§½ -->
>         <image mode="scaleToFill" src="/images/3.jpg"></image>
>       </swiper-item>
>     </swiper>
>   </view>
>   ```
>
>2. è¯¥è½®æ’­å›¾ä»£ç æ•ˆæœé¢„è§ˆ:<img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/swiperä»£ç è½®æ’­å›¾æ•ˆæœé¢„è§ˆ.gif" style="zoom:50%;" />

### â…¤-[scroll-view](https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html)

>å¯æ»šåŠ¨è§†å›¾åŒºåŸŸã€‚ä½¿ç”¨ç«–å‘æ»šåŠ¨æ—¶ï¼Œéœ€è¦ç»™[scroll-view](https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html)ä¸€ä¸ªå›ºå®šé«˜åº¦ï¼Œé€šè¿‡ WXSS è®¾ç½® heightã€‚ç»„ä»¶å±æ€§çš„é•¿åº¦å•ä½é»˜è®¤ä¸ºpxï¼Œ[2.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html)èµ·æ”¯æŒä¼ å…¥å•ä½(rpx/px)ã€‚
>
>1. ä½¿ç”¨ä¸¾ä¾‹å›¾
>
>   ![image-20210507172539074](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210507172539074.png)



## 2ã€[LinUi](https://doc.mini.talelin.com/)ç»„ä»¶åº“

### â… -å®‰è£…ä¸ä½¿ç”¨

>1. `Lin UI` æ˜¯åŸºäº **å¾®ä¿¡å°ç¨‹åºåŸç”Ÿè¯­æ³•** å®ç°çš„ç»„ä»¶åº“ã€‚éµå¾ªç®€æ´ï¼Œæ˜“ç”¨çš„è®¾è®¡è§„èŒƒã€‚
>
>2. ä¸å…¶ä»–ç»„ä»¶åº“ä¸åŒçš„æ˜¯ï¼Œé™¤äº†æä¾›åŸºæœ¬çš„ç»„ä»¶å¤–ï¼Œè¿˜ä¼šæä¾› `wxsæ¨¡å—` ã€`é«˜çº§ç»„ä»¶` ã€ `ç”µå•†ç»„ä»¶æ¨¡å—` ç­‰ç­‰ã€‚ ä¾‹å¦‚ï¼Œåœ¨ç”µå•†é¡¹ç›®é‡Œå¸¸ç”¨çš„ `SKUè”åŠ¨é€‰æ‹©` ï¼Œ`åŸå¸‚é€‰æ‹©å™¨` ç­‰
>
>3. [`å®‰è£…`](https://doc.mini.talelin.com/start/)è¿‡ç¨‹å¯çœ‹å®˜æ–¹æ–‡æ¡£:
>
>  1) æ‰“å¼€å°ç¨‹åºçš„é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ˆå¦‚æœä½¿ç”¨äº†äº‘å¼€å‘ï¼Œéœ€è¦è¿›å…¥miniprogramæ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼‰
>
>  ```sh
>  npm init
>  /*æ³¨æ„äº‹é¡¹
>  1.æ‰§è¡Œnpm initè¿›è¡Œåˆå§‹åŒ–ï¼Œæ­¤æ—¶ä¼šç”Ÿæˆä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼Œå¦‚æœä¸è¿›è¡Œnpm initï¼Œåœ¨æ„å»ºnpmçš„æ—¶å€™ä¼šæŠ¥ä¸€ä¸ªé”™è¯¯ï¼šæ²¡æœ‰æ‰¾åˆ° node_modules ç›®å½•
>  2.ä¸å»ºè®®ä½¿ç”¨cnpmï¼Œè¿™æ ·ä¼šå¸¦æ¥ä¸€äº›æœªçŸ¥çš„é”™è¯¯ã€‚å¦‚æœç½‘ç»œæƒ…å†µä¸ä½³ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œæ›´æ¢ä¸ºæ·˜å®æºã€‚
>  npm config set registry https://registry.npm.taobao.org */
>  ```
>
>  2)ç»§ç»­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤
>
>  ```sh
>  npm install lin-ui
>  ```
>
>4. å®‰è£…å®Œæˆååœ¨å°ç¨‹åºéœ€è¦ç‚¹å‡»`å·¥å…·`-->`æ„å»º npm`æ‰å¯ä»¥ä½¿ç”¨(`æ‰€æœ‰npmå¼•å…¥çš„éƒ½éœ€è¦è¿™ä¸€æ­¥`)
>5. è¦ä½¿ç”¨`è‡ªå®šä¹‰ç»„ä»¶`çš„è¯,éœ€è¦åœ¨`é…ç½®.json`æ–‡ä»¶ä¸­(å¯ä»¥åœ¨å…¨å±€çš„ä¹Ÿå¯ä»¥åœ¨é¡µé¢çš„,ä½œç”¨åŸŸä¸åŒ)æ³¨å†Œ,å…·ä½“å®ç°çœ‹ä¸‹é¢ç¤ºä¾‹

### â…¡-[avatar](https://doc.mini.talelin.com/component/view/avatar.html)å¤´åƒ

>1. è¦ä½¿ç”¨`è‡ªå®šä¹‰ç»„ä»¶`çš„è¯,éœ€è¦åœ¨å½“å‰pageé¡µé¢.jsonæ–‡ä»¶ä¸­æ³¨å†Œ
>
>  ```json
>  //page.json
>  {
>    "usingComponents": {
>      "l-avatar":"/miniprogram_npm/lin-ui/avatar/index",
>       "ç»„ä»¶å(å¯ä»¥è‡ªå–,ä¸€èˆ¬å¦‚æœæ˜¯linui,å°±l-xxx)":"æ„å»ºåçš„è·¯å¾„--è¦å…·ä½“åˆ°é‚£ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„js"
>    }
>  }
>  ```
>
>2. ä½¿ç”¨:
>
>  ```jsx
>  <!--pages/welcome/welcome.wxml-->
>  <view class="container">
>    <!-- <image class="avatar" lazy-load="true" mode="aspectFit" src="/images/æµ‹è¯•å¤´åƒå›¾ç‰‡.jpg"></image> -->
>   <l-avatar 
>   class="l-avatar"
>   placement="bottom" 
>   open-data="{{['userAvatarUrl','userNickName']}}"
>   size="200"
>   />
>  </view>
>
>  /* pages/welcome/welcome.wxss */
>  //å¯ä»¥è‡ªå·±å†™æ ·å¼ç±»,åŠ åˆ°ç»„ä»¶ä¸Š
>  .l-avatar{
>    margin-top: 160rpx;
>  }
>  ```

### â…¢-icon

>1. åœ¨å½“å‰pageé¡µé¢.jsonæ–‡ä»¶ä¸­æ³¨å†Œ
>
>   ```json
>   {
>     "usingComponents": {
>       "l-icon":"/miniprogram_npm/lin-ui/icon/index"
>     }
>   }
>   ```
>
>2. ä½¿ç”¨
>
>   ```jsx
>    <l-icon size="20" color="#34bfa3" name="cart"></l-icon>
>    <l-icon name="research"></l-icon>
>   ```



------



# ä¸ƒã€å°ç¨‹åº[API](https://developers.weixin.qq.com/miniprogram/dev/api/)

## 1ã€[æ•°æ®ç¼“å­˜](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.setStorageSync.html)

>ç±»ä¼¼äºç½‘é¡µçš„`localStorage`
>
>å®˜æ–¹æ–‡æ¡£å¾ˆè¯¦ç»†,æ­¤å¤„ç»™å‡ºå…·ä½“åœ°å€,ç¿»é˜…æ–‡æ¡£å³å¯

## 2ã€[äº¤äº’](https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html)

> ä¸€äº›å¾®ä¿¡å®˜æ–¹ç»™å‡ºçš„ç»„ä»¶,å…·ä½“å‚æ•°è§£é‡Šçœ‹æ–‡æ¡£,ä»¥ä¸‹ç»™å‡ºå­¦ä¹ è¿‡ç¨‹ä¸­ä»£ç ç¤ºä¾‹

### â… -wx.showToastä¸wx.showModal

>1. `wx.showToast`ä»£ç ç¤ºä¾‹:
>
>   ```js
>     wx.showToast({
>         //æ­¤å¤„å…¶å®å·²ç»è¢«ä¿®æ”¹å®ŒçŠ¶æ€,æ‰å¼€å§‹æç¤º,æ‰€ä»¥è¦åè¿‡æ¥
>         title: this.data.collected ? 'æ”¶è—æˆåŠŸ' : 'å–æ¶ˆæ”¶è—',
>         duration: 1000
>      })
>   ```
>
>2. `wx.showModal`ä»£ç ç¤ºä¾‹:
>
>   ```js
>     async onCollect(e) {
>       const result = await wx.showModal({
>         title:  !this.data.collected ? 'è¿›è¡Œæ”¶è—' : 'å–æ¶ˆæ”¶è—',
>       })
>       if (!result.confirm) return; //ç‚¹å‡»å–æ¶ˆé€€å‡º
>        .......//ç‚¹å‡»ç¡®è®¤åè¿è¡Œçš„ä»£ç 
>         wx.showToast({
>         //æ­¤å¤„å…¶å®å·²ç»è¢«ä¿®æ”¹å®ŒçŠ¶æ€,æ‰å¼€å§‹æç¤º,æ‰€ä»¥è¦åè¿‡æ¥
>         title: this.data.collected ? 'æ”¶è—æˆåŠŸ' : 'å–æ¶ˆæ”¶è—',
>         duration: 1000
>       })
>     },
>   ```
>
>3. è¿è¡Œæ•ˆæœç¤ºä¾‹(ä¸¤è€…å¹¶å­˜çš„æ•ˆæœ):<img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/showToasä¸showModalè¿è¡Œæ•ˆæœå›¾.gif" style="zoom:67%;" />
>
>   

## 3ã€åª’ä½“

### â… -[åª’ä½“éŸ³ä¹æ’­æ”¾](https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/BackgroundAudioManager.html)

>1. wx.getBackgroundAudioManager--æ’­æ”¾éŸ³ä¹
>
>2. ä»£ç ç¤ºä¾‹
>
>  ```js
>  const app = getApp() //æ­¤å¤„keyi 
>  onLoad: function (options) {
>    const mgr = wx.getBackgroundAudioManager()
>      this.data._mgr = mgr
>      // if(app.gIsPlayMusic) {  æ­¤å¤„è¿›å…¥å³é»˜è®¤æ’­æ”¾
>      //   mgr.src = this.data.postData.music.url
>      //   mgr.title = this.data.postData.music.title
>      // }
>  
>      mgr.onPlay(() => {
>        console.log("ç›‘å¬æ’­æ”¾")
>      })
>      mgr.onPause(() => {
>        console.log("ç›‘å¬æš‚åœ")
>      })
>      }
>  /**
>     * éŸ³ä¹æ’­æ”¾
>     */
>    onMusic() {
>      const mgr = this.data._mgr
>      if (this.data.isPlaying) {
>        mgr.pause()
>        app.gIsPlayMusicId = -1
>      } //å½“å‰æ’­æ”¾çŠ¶æ€å¦‚æœä¸ºtrueåˆ™ç»ˆæ­¢(stop())ã€pause()æš‚åœ
>      else {
>        mgr.src = this.data.postData.music.url  //æ­¤å¤„ä¸ºæ’­æ”¾
>        mgr.title = this.data.postData.music.title
>        app.gIsPlayMusicId = this.data._pid
>      }
>  
>      this.setData({
>        isPlaying: !this.data.isPlaying
>      })
>    },
>  ```

### â…¡-[å›¾ç‰‡](https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.saveImageToPhotosAlbum.html)

#### 1) [wx.previewImage(Object object)](https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.previewImage.html)

> åœ¨æ–°é¡µé¢ä¸­å…¨å±é¢„è§ˆå›¾ç‰‡ã€‚é¢„è§ˆçš„è¿‡ç¨‹ä¸­ç”¨æˆ·å¯ä»¥è¿›è¡Œä¿å­˜å›¾ç‰‡ã€å‘é€ç»™æœ‹å‹ç­‰æ“ä½œ
>
> 1. ä»£ç ç¤ºä¾‹
>
>    ```jsx
>    <!--pages/movie-detail/movie-detail.wxml-->
>    <image catch:tap="onViewPost" class="movie-img" src="{{movie.images}}"></image>
>    // pages/movie-detail/movie-detail.js
>    onViewPost(e) { //ç›¸å†ŒåŠŸèƒ½(é¢„è§ˆ)
>        wx.previewImage({
>          urls: [images1,images2],
>        })
>     },
>    ```
>
> 2. è¯¦è§å¼€å‘æ–‡æ¡£

## 4ã€ç•Œé¢

### â… -[Tab Bar](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html)

>ä½¿ç”¨æ—¶åœ¨[app.json](https://developers.weixin.qq.com/miniprogram/dev/framework/config.html)ä¸­è¿›è¡Œé…ç½®å³å¯,ç›¸å…³é…ç½®è¯¦æƒ…çœ‹å…¨å±€é…ç½®æ–‡æ¡£,å¦‚æœéœ€è¦è¿›è¡Œç›¸åº”æ“ä½œçœ‹å®˜æ–¹æ–‡æ¡£
>
>```json
>"tabBar": {
>    "selectedColor": "#333333",
>    "color": "#999999",
>    "borderStyle": "black",
>    "position": "top",
>    "list": [
>      {
>        "pagePath": "pages/posts/posts",
>        "text": "é˜…è¯»",
>        "iconPath": "/images/tabBar/yuedu.png",
>        "selectedIconPath": "/images/tabBar/yuedu_1.png"
>      },
>      {
>        "pagePath": "pages/movies/movies",
>        "text": "ç”µå½±",
>        "iconPath": "/images/tabBar/dianying_1.png",
>        "selectedIconPath": "/images/tabBar/dianying.png"
>      }
>    ]
>  }
>```





------



# å…«ã€å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ

>åˆ†ä¸º`åº”â½¤â½£å‘½å‘¨æœŸ`å’Œ`â»šâ¾¯â½£å‘½å‘¨æœŸ`
>
>å…³äºå°ç¨‹åºå‰åå°çš„å®šä¹‰å’Œå°ç¨‹åºçš„è¿è¡Œæœºåˆ¶ï¼Œè¯·å‚è€ƒ[è¿è¡Œæœºåˆ¶](https://developers.weixin.qq.com/miniprogram/dev/framework/runtime/operating-mechanism.html)ç« èŠ‚ã€‚

## 1ã€[åº”ç”¨ç”Ÿå‘½å‘¨æœŸ](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html)

>1. åº”ç”¨ç”Ÿå‘½å‘¨æœŸè¡¨
>
> | å±æ€§                                                         | ç±»å‹     | å¿…å¡« | è¯´æ˜                                                         | åœºæ™¯                                                         | æœ€ä½ç‰ˆæœ¬                                                     |
> | :----------------------------------------------------------- | :------- | :--- | :----------------------------------------------------------- | ------------------------------------------------------------ | :----------------------------------------------------------- |
> | [onLaunch](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html#onLaunch-Object-object) | function | å¦   | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”â€”ç›‘å¬å°ç¨‹åºåˆå§‹åŒ–ã€‚                             | å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶è§¦å‘ï¼Œå…¨å±€åªè§¦å‘ä¸€æ¬¡ã€‚å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨ [wx.getLaunchOptionsSync](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/life-cycle/wx.getLaunchOptionsSync.html) è·å–ã€‚ |                                                              |
> | [onShow](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html#onShow-Object-object) | function | å¦   | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”â€”ç›‘å¬å°ç¨‹åºå¯åŠ¨æˆ–åˆ‡å‰å°ã€‚                       | å°ç¨‹åºå¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºæ—¶è§¦å‘ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ [wx.onAppShow](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.onAppShow.html) ç»‘å®šç›‘å¬ |                                                              |
> | [onHide](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html#onHide) | function | å¦   | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”â€”ç›‘å¬å°ç¨‹åºåˆ‡åå°ã€‚                             | å°ç¨‹åºä»å‰å°è¿›å…¥åå°æ—¶è§¦å‘ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ [wx.onAppHide](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.onAppHide.html) ç»‘å®šç›‘å¬ |                                                              |
> | [onError](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html#onError-String-error) | function | å¦   | é”™è¯¯ç›‘å¬å‡½æ•°ã€‚                                               | å°ç¨‹åºå‘ç”Ÿè„šæœ¬é”™è¯¯æˆ– API è°ƒç”¨æŠ¥é”™æ—¶è§¦å‘ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ [wx.onError](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.onError.html) ç»‘å®šç›‘å¬ |                                                              |
> | [onPageNotFound](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html#onPageNotFound-Object-object) | function | å¦   | é¡µé¢ä¸å­˜åœ¨ç›‘å¬å‡½æ•°ã€‚                                         | å°ç¨‹åºè¦æ‰“å¼€çš„é¡µé¢ä¸å­˜åœ¨æ—¶è§¦å‘ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ [wx.onPageNotFound](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.onPageNotFound.html) ç»‘å®šç›‘å¬ã€‚ | [1.9.90](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
> | [onUnhandledRejection](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html#onUnhandledRejection-Object-object) | function | å¦   | æœªå¤„ç†çš„ Promise æ‹’ç»äº‹ä»¶ç›‘å¬å‡½æ•°ã€‚                          | å°ç¨‹åºæœ‰æœªå¤„ç†çš„ Promise æ‹’ç»æ—¶è§¦å‘ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ [wx.onUnhandledRejection](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.onUnhandledRejection.html) ç»‘å®šç›‘å¬ | [2.10.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
> | [onThemeChange](https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html#onThemeChange-Object-object) | function | å¦   | ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–                                             | ç³»ç»Ÿåˆ‡æ¢ä¸»é¢˜æ—¶è§¦å‘ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ [wx.onThemeChange](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.onThemeChange.html) ç»‘å®šç›‘å¬ | [2.11.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
> | å…¶ä»–                                                         | any      | å¦   | å¼€å‘è€…å¯ä»¥æ·»åŠ ä»»æ„çš„å‡½æ•°æˆ–æ•°æ®å˜é‡åˆ° `Object` å‚æ•°ä¸­ï¼Œç”¨ `this` å¯ä»¥è®¿é—® |                                                              |                                                              |
>
>2. ä»£ç ç¤ºä¾‹:
>
>   ```jsx
>   App({
>     onLaunch (options) {
>       // Do something initial when launch.
>     },
>     onShow (options) {
>       // Do something when show.
>     },
>     onHide () {
>       // Do something when hide.
>     },
>     onError (msg) {
>       console.log(msg)
>     },
>     globalData: 'I am global data'
>     ,
>     onPageNotFound(res) {
>    	 wx.redirectTo({
>      	 url: 'pages/...'
>    	 }) // å¦‚æœæ˜¯ tabbar é¡µé¢ï¼Œè¯·ä½¿ç”¨ wx.switchTab
>     }
>       
>   })
>   ```

## 2ã€[é¡µé¢ç”Ÿå‘½å‘¨æœŸ](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html)

>1. é¡µé¢ç”Ÿå‘½å‘¨æœŸè¡¨
>
> | å±æ€§                                                         | ç±»å‹     | è¯´æ˜                                                         |
> | :----------------------------------------------------------- | :------- | :----------------------------------------------------------- |
> | [data](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#data) | Object   | é¡µé¢çš„åˆå§‹æ•°æ®                                               |
> | options                                                      | Object   | é¡µé¢çš„ç»„ä»¶é€‰é¡¹ï¼ŒåŒ [`Component` æ„é€ å™¨](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Component.html) ä¸­çš„ `options` ï¼Œéœ€è¦åŸºç¡€åº“ç‰ˆæœ¬ [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
> | [onLoad](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onLoad-Object-query) | function | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢åŠ è½½                                    |
> | [onShow](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShow) | function | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢æ˜¾ç¤º                                    |
> | [onReady](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onReady) | function | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ                            |
> | [onHide](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onHide) | function | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢éšè—                                    |
> | [onUnload](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onUnload) | function | ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢å¸è½½                                    |
> | [onPullDownRefresh](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onPullDownRefresh) | function | ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ                                             |
> | [onReachBottom](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onReachBottom) | function | é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°                                   |
> | [onShareAppMessage](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareAppMessage-Object-object) | function | ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’è½¬å‘                                           |
> | [onShareTimeline](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareTimeline) | function | ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’è½¬å‘åˆ°æœ‹å‹åœˆ                                   |
> | [onAddToFavorites](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onAddToFavorites-Object-object) | function | ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’æ”¶è—                                           |
> | [onPageScroll](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onPageScroll-Object-object) | function | é¡µé¢æ»šåŠ¨è§¦å‘äº‹ä»¶çš„å¤„ç†å‡½æ•°                                   |
> | [onResize](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onResize-Object-object) | function | é¡µé¢å°ºå¯¸æ”¹å˜æ—¶è§¦å‘ï¼Œè¯¦è§ [å“åº”æ˜¾ç¤ºåŒºåŸŸå˜åŒ–](https://developers.weixin.qq.com/miniprogram/dev/framework/view/resizable.html#åœ¨æ‰‹æœºä¸Šå¯ç”¨å±å¹•æ—‹è½¬æ”¯æŒ) |
> | [onTabItemTap](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onTabItemTap-Object-object) | function | å½“å‰æ˜¯ tab é¡µæ—¶ï¼Œç‚¹å‡» tab æ—¶è§¦å‘                             |
> | å…¶ä»–                                                         | any      | å¼€å‘è€…å¯ä»¥æ·»åŠ ä»»æ„çš„å‡½æ•°æˆ–æ•°æ®åˆ° `Object` å‚æ•°ä¸­ï¼Œåœ¨é¡µé¢çš„å‡½æ•°ä¸­ç”¨ `this` å¯ä»¥è®¿ |
>
>2. å®˜æ–¹çš„å°ç¨‹åºé¡µé¢ç”Ÿå‘½å‘¨æœŸå›¾:
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/å®˜æ–¹çš„å°ç¨‹åºé¡µé¢ç”Ÿå‘½å‘¨æœŸå›¾.png" alt="image-20210425142044724" style="zoom:80%;" />

## 3ã€[ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ](https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html)-ä¸ç®—åœ¨å°ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­

>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼ŒæŒ‡çš„æ˜¯ç»„ä»¶è‡ªèº«çš„ä¸€äº›å‡½æ•°ï¼Œè¿™äº›å‡½æ•°åœ¨ç‰¹æ®Šçš„æ—¶é—´ç‚¹æˆ–é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æ¡†æ¶äº‹ä»¶æ—¶è¢«è‡ªåŠ¨è§¦å‘



------



# ä¹ã€[è‡ªå®šä¹‰ç»„ä»¶](https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/)

>å¼€å‘è€…å¯ä»¥å°†é¡µé¢å†…çš„åŠŸèƒ½æ¨¡å—æŠ½è±¡æˆè‡ªå®šä¹‰ç»„ä»¶ï¼Œä»¥ä¾¿åœ¨ä¸åŒçš„é¡µé¢ä¸­é‡å¤ä½¿ç”¨ï¼›ä¹Ÿå¯ä»¥å°†å¤æ‚çš„é¡µé¢æ‹†åˆ†æˆå¤šä¸ªä½è€¦åˆçš„æ¨¡å—ï¼Œæœ‰åŠ©äºä»£ç ç»´æŠ¤ã€‚è‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨æ—¶ä¸åŸºç¡€ç»„ä»¶éå¸¸ç›¸ä¼¼
>
>è¿™éƒ¨åˆ†å°†æˆªå–[æ–‡æ¡£è‡ªå®šä¹‰ç»„ä»¶éƒ¨åˆ†](https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html)ä¸­å¸¸è§çš„éƒ¨åˆ†è¿›è¡Œæ³¨è§£

## 1ã€ç»„ä»¶æ¨¡æ¿å’Œæ ·å¼

> ç±»ä¼¼äºé¡µé¢ï¼Œè‡ªå®šä¹‰ç»„ä»¶æ‹¥æœ‰è‡ªå·±çš„ `wxml` æ¨¡æ¿å’Œ `wxss` æ ·å¼ã€‚

### â… -ç»„ä»¶æ ·å¼

>ç»„ä»¶å¯¹åº” `wxss` æ–‡ä»¶çš„æ ·å¼ï¼Œåªå¯¹ç»„ä»¶wxmlå†…çš„èŠ‚ç‚¹ç”Ÿæ•ˆã€‚ç¼–å†™ç»„ä»¶æ ·å¼æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š
>
>- ç»„ä»¶å’Œå¼•ç”¨ç»„ä»¶çš„é¡µé¢ä¸èƒ½ä½¿ç”¨idé€‰æ‹©å™¨ï¼ˆ`#a`ï¼‰ã€å±æ€§é€‰æ‹©å™¨ï¼ˆ`[a]`ï¼‰å’Œæ ‡ç­¾åé€‰æ‹©å™¨ï¼Œè¯·æ”¹ç”¨classé€‰æ‹©å™¨ã€‚
>
>- ç»„ä»¶å’Œå¼•ç”¨ç»„ä»¶çš„é¡µé¢ä¸­ä½¿ç”¨åä»£é€‰æ‹©å™¨ï¼ˆ`.a .b`ï¼‰åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ä¼šæœ‰éé¢„æœŸçš„è¡¨ç°ï¼Œå¦‚é‡ï¼Œè¯·é¿å…ä½¿ç”¨ã€‚
>
>- å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆ`.a>.b`ï¼‰åªèƒ½ç”¨äº `view` ç»„ä»¶ä¸å…¶å­èŠ‚ç‚¹ä¹‹é—´ï¼Œç”¨äºå…¶ä»–ç»„ä»¶å¯èƒ½å¯¼è‡´éé¢„æœŸçš„æƒ…å†µã€‚
>
>- ç»§æ‰¿æ ·å¼ï¼Œå¦‚ `font` ã€ `color` ï¼Œä¼šä»ç»„ä»¶å¤–ç»§æ‰¿åˆ°ç»„ä»¶å†…ã€‚
>
>- é™¤ç»§æ‰¿æ ·å¼å¤–ï¼Œ `app.wxss` ä¸­çš„æ ·å¼ã€ç»„ä»¶æ‰€åœ¨é¡µé¢çš„çš„æ ·å¼å¯¹è‡ªå®šä¹‰ç»„ä»¶æ— æ•ˆï¼ˆé™¤éæ›´æ”¹ç»„ä»¶æ ·å¼éš”ç¦»é€‰é¡¹ï¼‰ã€‚
>
>  ```css
>  #a { } /* åœ¨ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ */
>  [a] { } /* åœ¨ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ */
>  button { } /* åœ¨ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ */
>  .a > .b { } /* é™¤é .a æ˜¯ view ç»„ä»¶èŠ‚ç‚¹ï¼Œå¦åˆ™ä¸ä¸€å®šä¼šç”Ÿæ•ˆ */
>  ```
>
>é™¤æ­¤ä»¥å¤–ï¼Œç»„ä»¶å¯ä»¥æŒ‡å®šå®ƒæ‰€åœ¨èŠ‚ç‚¹çš„é»˜è®¤æ ·å¼ï¼Œä½¿ç”¨ `:host` é€‰æ‹©å™¨ï¼ˆéœ€è¦åŒ…å«åŸºç¡€åº“ [1.7.2](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) æˆ–æ›´é«˜ç‰ˆæœ¬çš„å¼€å‘è€…å·¥å…·æ”¯æŒï¼‰ã€‚
>
>æ³¨:æ­¤å¤„æœ¬äººå‡ºäº†ä¸€ä¸ª`é—®é¢˜`,è¯¦è§--->æœ¬ç¬”è®°çš„`æ‚è®°->åˆå­¦è€…é˜¶æ®µé‡åˆ°çš„é—®é¢˜ä¸è§£å†³->â…¦`

### â…¡-å¤–éƒ¨æ ·å¼ç±»

>1. æœ‰æ—¶ï¼Œç»„ä»¶å¸Œæœ›æ¥å—å¤–éƒ¨ä¼ å…¥çš„æ ·å¼ç±»ã€‚æ­¤æ—¶å¯ä»¥åœ¨ `Component` ä¸­ç”¨ `externalClasses` å®šä¹‰æ®µå®šä¹‰è‹¥å¹²ä¸ªå¤–éƒ¨æ ·å¼ç±»ã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥ç”¨äºå®ç°ç±»ä¼¼äº `view` ç»„ä»¶çš„ `hover-class` å±æ€§ï¼šé¡µé¢å¯ä»¥æä¾›ä¸€ä¸ªæ ·å¼ç±»ï¼Œèµ‹äºˆ `view` çš„ `hover-class` ï¼Œè¿™ä¸ªæ ·å¼ç±»æœ¬èº«å†™åœ¨é¡µé¢ä¸­è€Œé `view` ç»„ä»¶çš„å®ç°ä¸­ã€‚
>
>  **æ³¨æ„ï¼šåœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šä½¿ç”¨æ™®é€šæ ·å¼ç±»å’Œå¤–éƒ¨æ ·å¼ç±»æ—¶ï¼Œä¸¤ä¸ªç±»çš„`ä¼˜å…ˆçº§æ˜¯æœªå®šä¹‰`çš„ï¼Œå› æ­¤æœ€å¥½é¿å…è¿™ç§æƒ…å†µã€‚**
>
>2. **ä»£ç ç¤ºä¾‹ï¼š**
>
>     1. è‡ªå®šä¹‰ç»„ä»¶éƒ¨åˆ†å®šä¹‰ä¸å ä½ç¬¦ç¤ºä¾‹
>
>        ```xaml
>        /* ç»„ä»¶ custom-component.js */
>        Component({
>          externalClasses: ['my-class']
>        })
>                                                                       
>        <!-- ç»„ä»¶ custom-component.wxml å¦‚ä½•å¼•ç”¨ -->
>        <custom-component class="my-class">è¿™æ®µæ–‡æœ¬çš„é¢œè‰²ç”±ç»„ä»¶å¤–çš„ class å†³å®š</custom-component>                                 
>        ```
>
>        è¿™æ ·ï¼Œç»„ä»¶çš„ä½¿ç”¨è€…å¯ä»¥æŒ‡å®šè¿™ä¸ªæ ·å¼ç±»å¯¹åº”çš„ class ï¼Œå°±åƒä½¿ç”¨æ™®é€šå±æ€§ä¸€æ ·ã€‚åœ¨ [2.7.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) ä¹‹åï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªå¯¹åº”çš„ class ã€‚
>
>   2. å¤–éƒ¨ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶å¹¶ä¼ å…¥æ ·å¼ç±»
>
>      ```xaml
>      <!-- é¡µé¢çš„ WXML -->
>      <custom-component my-class="red-text" />
>      <custom-component my-class="large-text" />
>      <!-- ä»¥ä¸‹å†™æ³•éœ€è¦åŸºç¡€åº“ç‰ˆæœ¬ 2.7.1 ä»¥ä¸Š  æ³¨æ„ è¿™åªæ˜¯ä¸€ä¸ªç»„ä»¶ä¼ å…¥ä¸¤ä¸ªç±»å,è€Œä¸æ˜¯åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªç»„ä»¶-->
>      <custom-component my-class="red-text large-text" />
>                                                                                                               
>      ------------ æ ·å¼ç±»å£°æ˜ é¡µé¢.wxss ---------------------------------
>      .red-text {
>        color: red;
>      }
>      .large-text {
>        font-size: 1.5em;
>      }
>      ```
>
>   
>
>3. ä¸»è¦ç”¨é€”:
>
>     1. å¦‚æœå­ç»„ä»¶éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±å¼€å‘çš„,è€Œä¸”æ— æ‰€è°“æ”¹åŠ¨è‡ªå®šä¹‰ç»„ä»¶æºç ,é‚£å¯ä»¥ä¸ä½¿ç”¨è¿™ä¸ª
>
>     2. å¦‚æœè‡ªå®šä¹‰ç»„ä»¶å°è£…å·²ç»è¶³å¤Ÿæˆç†Ÿ,ä¸æƒ³å†åŠ¨å…¶ä¸­æ ·å¼æºç ,å°±å¯ä»¥ç”¨å¤–éƒ¨æ ·å¼ç±»è¿›è¡Œå¯¹è‡ªå®šä¹‰ç»„ä»¶æ ·å¼æ”¹å˜(ä½¿ç”¨`!important`å±æ€§èƒ½å°†æ ·å¼ä¼˜å…ˆçº§æé«˜),ä»¥æ­¤è¿›è¡Œå¯¹äºå°è£…å¥½çš„ç»„ä»¶çš„æ ·å¼ä¿®æ”¹,åŒç†å¯ä»¥è¿ç”¨äºç¬¬ä¸‰æ–¹åº“
>
>        ```css
>        .movielist{ //å¤–éƒ¨æ ·å¼ç±»
>          margin-bottom: 25rpx;
>          background-color: #fff !important;  //æ­¤å¤„å°±å¯ä»¥å°†è¿™ä¸ªæ ·å¼æå‡åˆ°è‡ªå®šä¹‰ç»„ä»¶æ ·å¼ä¼˜å…ˆçº§ä¹‹ä¸Š
>        }
>        ```
>
>   3. ä»¥åå¦‚æœè‡ªå·±å°è£…è‡ªå®šä¹‰ç»„ä»¶,å°±å¯ä»¥å‘å¤–æš´éœ²å¤–éƒ¨æ ·å¼ç±»

## 2ã€ç»„ä»¶é—´é€šä¿¡ä¸äº‹ä»¶

### â… -ç»„ä»¶é—´é€šä¿¡

>ç»„ä»¶é—´çš„åŸºæœ¬é€šä¿¡æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ã€‚
>
>- WXML æ•°æ®ç»‘å®šï¼šç”¨äºçˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„æŒ‡å®šå±æ€§è®¾ç½®æ•°æ®ï¼Œä»…èƒ½è®¾ç½® JSON å…¼å®¹æ•°æ®ï¼ˆè‡ªåŸºç¡€åº“ç‰ˆæœ¬ [2.0.9](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) å¼€å§‹ï¼Œè¿˜å¯ä»¥åœ¨æ•°æ®ä¸­åŒ…å«å‡½æ•°ï¼‰ã€‚å…·ä½“åœ¨ [ç»„ä»¶æ¨¡æ¿å’Œæ ·å¼](https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html) ç« èŠ‚ä¸­ä»‹ç»ã€‚
>- äº‹ä»¶ï¼šç”¨äºå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå¯ä»¥ä¼ é€’ä»»æ„æ•°æ®ã€‚
>- å¦‚æœä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸è¶³ä»¥æ»¡è¶³éœ€è¦ï¼Œçˆ¶ç»„ä»¶è¿˜å¯ä»¥é€šè¿‡ `this.selectComponent` æ–¹æ³•è·å–å­ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è®¿é—®ç»„ä»¶çš„ä»»æ„æ•°æ®å’Œæ–¹æ³•ã€‚

### â…¡-è§¦å‘äº‹ä»¶

>è‡ªå®šä¹‰ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶ï¼Œéœ€è¦ä½¿ç”¨ `triggerEvent` æ–¹æ³•ï¼ŒæŒ‡å®šäº‹ä»¶åã€detailå¯¹è±¡å’Œäº‹ä»¶é€‰é¡¹
>
>1. å®˜æ–¹ä»£ç ç¤ºä¾‹
>
>   ```jsx
>   <!-- åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ -->
>   <button bindtap="onTap">ç‚¹å‡»è¿™ä¸ªæŒ‰é’®å°†è§¦å‘â€œmyeventâ€äº‹ä»¶</button>
>   //jsæ–‡ä»¶ä¸­
>   Component({
>     properties: {},
>     methods: {
>       onTap: function(){
>         var myEventDetail = {} // detailå¯¹è±¡ï¼Œæä¾›ç»™äº‹ä»¶ç›‘å¬å‡½æ•°
>         var myEventOption = {} // è§¦å‘äº‹ä»¶çš„é€‰é¡¹
>         this.triggerEvent('myevent', myEventDetail, myEventOption)
>       }
>     }
>   })
>   ```
>
>2. æœ¬äººåœ¨[`helloå°ç¨‹åº`](https://gitee.com/hongjilin/wechat-applet-demo-source-code)æºç ä¸­åº”ç”¨
>
>   ```jsx
>   <!--pages/posts/posts.wxml-->
>   <block wx:for="{{posts}}" wx:for-item="item" wx:key="postId" wx:for-index="index">
>       <post bind:posttap="onGoDetail" res="{{item}}" />
>     </block>
>   // components/posts/index.js  è¿™æ˜¯è‡ªå®šä¹‰ç»„ä»¶
>   
>    methods: {
>       onTap (e) {  //æ­¤å¤„ä¸èƒ½ç”¨ç®­å¤´å‡½æ•°,å¦åˆ™`  this.triggerEvent`å°†ä¼šæ‰¾ä¸åˆ°æŠ¥é”™
>       const pid = this.data.res.postId
>       // console.log( this.data)
>       // console.log( this.properties)
>         this.triggerEvent('posttap',{
>           pid   //è¿™ä¸ªå‚æ•°ä¼šåœ¨äº‹ä»¶è°ƒç”¨å¤„è·å–åˆ°
>         })
>       },
>    }
>   
>   // pages/posts/posts.js  è¿™ä¸ªæ˜¯åœ¨è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶çš„é¡µé¢çš„jsä¸­,å³å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ–¹æ³•,å•çº¯æ˜¯è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶å®šä¹‰çš„äº‹ä»¶
>     onGoDetail: (e) => { //è·å–ç»„ä»¶çš„è‡ªå®šä¹‰å±æ€§
>       //å…ˆåˆ¤æ–­,å¦‚æœe.currentTarget.datasetå»å¾—åˆ°å€¼,å°±å–æœ‰å€¼çš„ ä¸‹é¢è¿™3ç§å†™æ³•æ•ˆæœç­‰åŒ
>       //  let pid = (e.currentTarget.dataset.id)?e.currentTarget.dataset.id:e.detail.pid 
>       // let pid = e.detail.pid|e.currentTarget.dataset.id  
>       let pid = e.detail.pid || e.currentTarget.dataset.id
>       wx.navigateTo({
>         url: '/pages/post-detail/post-detail?pid=' + pid,
>     })
>   ```





------

# æ‚è®°

> ä½“ç³»å­¦ä¹ è¿‡ç¨‹ç¬”è®°å¤–çš„çŸ¥è¯†ç‚¹

## 1ã€å¾®ä¿¡å¼€å‘è€…å·¥å…·ä½¿ç”¨æŠ€å·§

### â… -æ–°å»ºé¡µé¢çš„æŠ€å·§ä¸è§„åˆ™:

>1. æœ¬æŠ€å·§é€‚ç”¨äº`å¾®ä¿¡å¼€å‘è€…å·¥å…·`
>2. å½“ä½ éœ€è¦æ–°å»ºä¸€ä¸ªé¡µé¢æ—¶:æ–°å»ºä¸€ä¸ªpageæ–‡ä»¶ç›®å½•-->å³é”®`æ–°å»ºpage`-->è¾“å…¥pageåå­—-->ä¸€æ¬¡ç”Ÿæˆæ‰€éœ€å››ä¸ªæ–‡ä»¶ ä¸”è‡ªåŠ¨æ³¨å†Œåˆ°`app.json`ä¸­
>3. ##å¦‚æœé…ç½®æ–‡ä»¶ä¸­å‡ºç°é”™è¯¯æ—¶,è‡ªåŠ¨æ–°å»ºæ— æ³•æˆåŠŸ,æ›´æ— æ³•è‡ªåŠ¨æ³¨å†Œ

### â…¡-æŒ‡å®šåˆå§‹é¡µé¢

>å½“ä½ å†™å¤šä¸ªpageæ—¶,å¦‚æœæ¯æ¬¡é€šè¿‡ä¿®æ”¹`app.json`çš„é…ç½®é¡¹æ¥æŒ‡å®šåˆå§‹é¡µé¢,ååˆ†éº»çƒ¦
>
>1. å¯ä»¥åœ¨`app.json`ç”¨"entryPagePath":"pages/é¡µé¢æ–‡ä»¶å¤¹/é¡µé¢æ–‡ä»¶å" é…ç½®é¦–é¡µ,ä½†ä»è¦ä¿®æ”¹é…ç½®æ–‡ä»¶,ååˆ†éº»çƒ¦
>
>2. ä½¿ç”¨ç¼–è¯‘å™¨çš„`å·¥å…·æ `-->æ·»åŠ `ç¼–è¯‘æ¨¡å¼`è¿›è¡ŒæŒ‡å®šåˆå§‹åŒ–é¡µé¢(å¯åŠ¨é¡µé¢é»˜è®¤å€¼è¦å…ˆåˆ é™¤æ‰æœ‰æç¤º)
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210421181759900.png" alt="image-20210421181759900" style="zoom: 80%;" />
>
>3. æ·»åŠ åæ¯æ¬¡è°ƒè¯•åªè¦`é€‰æ‹©ç¼–è¯‘æ¨¡å¼`,å°±å¯ä»¥åˆ‡æ¢åˆå§‹é¡µé¢

### â…¢-ctrl+æ»šè½®ç¼©æ”¾å·¥å…·ç•Œé¢

>åªèƒ½è°ƒæˆå­—ä½“äº†,`è¿™ä¸ªBUGè¢«ä¿®å¤äº†`:dog:![image-20210423095423566](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210423095423566.png)



## 2ã€å¾®ä¿¡å¼€å‘å¸¸è§ç¼–ç¨‹æ–¹æ³•ä¸ç»†èŠ‚

>å­¦ä¹ ã€ç»ƒä¹ ã€å¼€å‘å¾®ä¿¡å°ç¨‹åºè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ä¸ç»†èŠ‚è®°å½•

### â… -ç›¸å¯¹è·¯å¾„è§„åˆ™:

> 1. `/`ä»£è¡¨æ ¹ç›®å½•:å¦‚å¼•å…¥æ ¹ç›®å½•ä¸‹çš„images/å›¾ç‰‡ 
>
>    ```xml
>    <image src="/images/æµ‹è¯•å¤´åƒå›¾ç‰‡.jpg"></image>
>    ```
>
> 2. å…¶ä½™çš„å¦‚:`../`ä¸Šä¸€çº§ç›®å½•ã€`./`åŒçº§ç›®å½•,éƒ½ä¸ä¸€èˆ¬æ— å¼‚

### â…¡-npmå¼•å…¥ç¬¬ä¸‰æ–¹åº“åéœ€è¿›è¡Œæ„å»º

>å®‰è£…ç¬¬ä¸‰æ–¹åº“ååœ¨å°ç¨‹åºéœ€è¦ç‚¹å‡»`å·¥å…·`-->`æ„å»º npm`æ‰å¯ä»¥ä½¿ç”¨
>
>`æ‰€æœ‰npmå¼•å…¥çš„éƒ½éœ€è¦è¿™ä¸€æ­¥`





## 3ã€åˆå­¦é˜¶æ®µé‡åˆ°çš„é—®é¢˜ä¸è§£å†³

> è¿™éƒ¨åˆ†å°†è®°å½•æœ¬äººåˆå­¦å°ç¨‹åºè¿‡ç¨‹é‡åˆ°çš„é—®é¢˜,è¿™éƒ¨åˆ†åº”è¯¥å¤§éƒ¨åˆ†æ˜¯å°ç¨‹åºåˆå­¦è€…æ‰ä¼šé‡åˆ°çš„,æˆ–è€…æ˜¯æœ¬äººè™½ç„¶å¯ä»¥ç›´æ¥è§£å†³ä½†è§‰å¾—åˆ«äººå¯èƒ½ä¼šé‡åˆ°çš„ä¾¿è®°å½•ä¸‹æ¥ã€‚è€Œåç»­è¿›é˜¶é˜¶æ®µæˆ–è€…å®æˆ˜å¼€å‘æ—¶é‡åˆ°çš„é—®é¢˜,å°†è®°å½•åœ¨ä¸‹é¢å¦ä¸€ç« èŠ‚

### â… -è®¾ç½®æ•´ä¸ªpageçš„èƒŒæ™¯è‰²

> 1. é—®é¢˜:å½“æˆ‘è®¾ç½®é¡µé¢èƒŒæ™¯è‰²æ—¶,å‘ç°æ·»åŠ èƒŒæ™¯è‰²çš„pageçš„é«˜åº¦æ˜¯è¢«å†…å®¹æ’‘èµ·è€Œä¸æ˜¯å…¨å±?å¦‚ä½•è§£å†³æœ€ç®€å•
>    é—®é¢˜æˆªå›¾<img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210421153332813.png" alt="image-20210421153332813" style="zoom: 50%;" />è§£å†³å<img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210421153607334.png" alt="image-20210421153607334" style="zoom: 50%;" />
>
>    è§£å†³:å¯ä»¥åœ¨ä½ éœ€è¦ä¿®æ”¹çš„pageçš„æ ·å¼æ–‡ä»¶ä¸­,ç»™`<page/>`æ ‡ç­¾åŠ æ ·å¼,é»˜è®¤å°ç¨‹åºæ˜¯ä½¿ç”¨<page/>ä½œä¸ºæœ€å¤–å±‚çš„
>
>    ```css
>    page{
>      background-color: #b3d4db;
>    }
>    ```

### â…¡-å°ç¨‹åºä¸­ä½¿ç”¨less

>åŸâ½£â¼©ç¨‹åºä¸â½€æŒ less ï¼Œå…¶ä»–åŸºäºâ¼©ç¨‹åºçš„æ¡†æ¶â¼¤ä½“éƒ½â½€æŒï¼Œå¦‚ wepy ï¼Œ mpvue ï¼Œ taro ç­‰ã€‚ ä½†æ˜¯ä»…ä»…å› ä¸ºâ¼€ä¸ªlessåŠŸèƒ½ï¼Œâ½½å»å¼•â¼Šâ¼€ä¸ªæ¡†æ¶ï¼Œè‚¯å®šæ˜¯ä¸å¯å–çš„ã€‚å› æ­¤å¯ä»¥â½¤ä»¥ä¸‹â½…å¼æ¥å®ç°
>
>1. ç¼–è¾‘å™¨æ˜¯`vscode`
>
>2. å®‰è£…æ’ä»¶`easy less`
>
>   ![image-20210421151330740](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210421151330740.png)
>
>3. åœ¨vscodeçš„è®¾ç½®ä¸­åŠ â¼Šå¦‚ä¸‹ï¼Œé…ç½®
>
>   ```json
>     "less.compile": {
>           "outExt": ".wxss"
>      }
>   ```
>
>4. åœ¨è¦ç¼–å†™æ ·å¼çš„åœ°â½…ï¼Œæ–°å»º less â½‚ä»¶ï¼Œå¦‚ index.less ,ç„¶åæ­£å¸¸ç¼–è¾‘å³å¯ã€‚

### â…¢-æŠ¥é”™: `TypeError: wx.getMenuButtonBoundingClientRect is not a function`

>æ§åˆ¶å°æŠ¥é”™: `TypeError: wx.getMenuButtonBoundingClientRect is not a function`
>
>é—®é¢˜åˆ†æ:è¿™ä¸ª apiæ˜¯ æ›´é«˜ç‰ˆæœ¬ç‰ˆæœ¬æ”¯æŒçš„ï¼Œä½ çš„ç”¨æˆ·æœ‰çš„å®¢æˆ·ç«¯åŸºç¡€åº“ç‰ˆæœ¬ å°äºè¿™ä¸ªåŸºç¡€åº“ã€‚ä½ åœ¨å°ç¨‹åºåå°è®¾ç½®ä¸‹ æœ€ä½åŸºç¡€åº“2.1.0.é‚£æ ·ç”¨æˆ·å®¢æˆ·ç«¯åŸºç¡€åº“ç‰ˆæœ¬ä½äºæ­¤å°±ä¼šæç¤ºå‡çº§
>
>è§£å†³:<img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/æŠ¥é”™1å›¾ä¾‹.png" alt="image-20210421172805580" style="zoom: 67%;" />

### â…£-è­¦å‘Š:`æ— æ•ˆçš„page.json`

>è¿™æ˜¯åˆå­¦è€…æ‰ä¼šçŠ¯ä¸‹çš„é”™è¯¯,ä½†ä¹Ÿè®°å½•ä¸‹æ¥
>
>1. é—®é¢˜:åœ¨page.jsoné…ç½®æ–‡ä»¶ä¸­ä¸è¦ä¿®æ”¹å¯¼èˆªæ é¢œè‰²,å´å‘ç”ŸæŠ¥é”™
>     <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/è­¦å‘Špagejsonæ— æ•ˆé—®é¢˜.png" alt="image-20210422094205182" style="zoom: 67%;" />
>2. è§£å†³:ä¿®æ”¹ç›¸åº”æŠ¥é”™é…ç½®([ç¿»é˜…æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html)),è™½ç„¶å“åº”çš„å±æ€§å€¼ç›¸åŒ,ä½†ä¸€ä¸ªå¤–å±‚åŒ…è£¹window,å¦ä¸€ä¸ªæ²¡æœ‰åŒ…è£¹
>     <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/è­¦å‘Špagejsonæ— æ•ˆé—®é¢˜è§£å†³.png" alt="image-20210422094901528" style="zoom:67%;" />

### â…¤-æŠ¥é”™:`typeError: Cannot read property 'mark' of undefined`

>1. æŠ¥é”™
>
>  â€‹	<img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210426170705465.png" alt="image-20210426170705465" style="zoom:80%;" />
>
>2. è§£å†³:æœ€ç»ˆå‘ç°æ˜¯å°ç¨‹åºå·¥å…·è®¾ç½®é—®é¢˜
>
>  éœ€è¦å‹¾é€‰å¢å¼ºç¼–è¯‘
>
>  ![image-20210426170827112](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210426170827112.png)

### â…¥-å¾®ä¿¡å°ç¨‹åºä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°å¯¼è‡´thisæŒ‡å‘é”™è¯¯çš„é—®é¢˜

>1. é—®é¢˜ä»£ç æˆªå›¾:
>
> <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210427161221380.png" alt="image-20210427161221380" style="zoom: 67%;" />
>
>2. é—®é¢˜åˆ†æ:
>
> ä¼—æ‰€å‘¨çŸ¥,ç®­å¤´å‡½æ•°`ä¼šæ”¹å˜thisæŒ‡å‘`,å½“æˆ‘ä½¿ç”¨ç®­å¤´å‡½æ•°å,å‡½æ•°ä¸­çš„thisä¸å†æŒ‡å‘å®ä¾‹è€Œæ˜¯æŒ‡å‘å‡½æ•°æœ¬èº«,å¯¼è‡´dataå…¶å®æ˜¯æ‰¾ä¸åˆ°çš„å‘ç”ŸæŠ¥é”™
>
>3. é—®é¢˜è§£å†³:
>
>    1. ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°:
>
>       ```jsx
>          async onCollect(e) {
>             const result = await wx.showModal({
>               title:  !this.data.collected ? 'è¿›è¡Œæ”¶è—' : 'å–æ¶ˆæ”¶è—',
>             })
>             if (!result.confirm) return;
>       
>             let postCollected = this.data._postCollected //å°†å½“å‰dataä¸­(ç›¸å½“äºä¹‹å‰æœ¬åœ°ç¼“å­˜çš„postCollected)æ‹‰å»ä¸‹æ¥,é˜²æ­¢è¢«è¦†ç›–
>             postCollected[this.data._pid] = !this.data.collected
>             this.setData({
>               collected: !this.data.collected
>             })
>             wx.setStorageSync('posts_collected', postCollected)
>             wx.showToast({
>               //æ­¤å¤„å…¶å®å·²ç»è¢«ä¿®æ”¹å®ŒçŠ¶æ€,æ‰å¼€å§‹æç¤º,æ‰€ä»¥è¦åè¿‡æ¥
>               title: this.data.collected ? 'æ”¶è—æˆåŠŸ' : 'å–æ¶ˆæ”¶è—',
>               duration: 1000
>             })
>           },
>       ```
>
>    2. ä½¿ç”¨ç®­å¤´å‡½æ•°,ä½†éœ€è¦ä¿å­˜thisæŒ‡å‘
>
>       ```js
>         let con  //ç”¨æ¥ä¿å­˜thisæŒ‡å‘
>                                                                               
>         Page({
>           //1. ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ä¿å­˜thisæŒ‡å‘
>         onLoad: function (options) {
>             	con=this  //ç”¨æ¥ä¿å­˜thisæŒ‡å‘
>         },
>           //2. å‡½æ•°ä½“å†™æ³•
>         onCollect:async (e)=> {  ç®­å¤´å‡½æ•°å†™æ³•,éœ€è¦ä¿å­˜thisæŒ‡å‘
>            console.log(con)
>           const result = await wx.showModal({
>             title:  !con.data.collected ? 'è¿›è¡Œæ”¶è—' : 'å–æ¶ˆæ”¶è—',
>           })
>           if (!result.confirm) return;
>                                                                               
>           let postCollected = con.data._postCollected //å°†å½“å‰dataä¸­(ç›¸å½“äºä¹‹å‰æœ¬åœ°ç¼“å­˜çš„postCollected)æ‹‰å»ä¸‹æ¥,é˜²æ­¢è¢«è¦†ç›–
>           postCollected[con.data._pid] = !con.data.collected
>           con.setData({
>             collected: !con.data.collected
>           })
>           wx.setStorageSync('posts_collected', postCollected)
>           wx.showToast({
>             //æ­¤å¤„å…¶å®å·²ç»è¢«ä¿®æ”¹å®ŒçŠ¶æ€,æ‰å¼€å§‹æç¤º,æ‰€ä»¥è¦åè¿‡æ¥
>             title: con.data.collected ? 'æ”¶è—æˆåŠŸ' : 'å–æ¶ˆæ”¶è—',
>             duration: 1000
>           })
>         })
>       ```

### â…¦-è­¦å‘Š: `Some selectors are not allowed in component wxss, including tag name selectors, ID selectors, and attribute selectors`

>1. å‡ºç°åœºæ™¯:åœ¨æˆ‘å°†ä¹‹å‰å†™å¥½çš„æ ·å¼æ¨¡å—æŠ½å‡ºæˆ`è‡ªå®šä¹‰ç»„ä»¶`æ—¶,æ§åˆ¶å°çªç„¶å‡ºç°è­¦å‘Š
>
>   ![image-20210430101549430](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210430101549430.png)
>
>2. åˆ†æ:æˆ‘ä½¿ç”¨äº†`å±æ€§é€‰æ‹©å™¨`,è€Œ[å®˜æ–¹æ–‡æ¡£åœ¨è‡ªå®šä¹‰ç»„ä»¶éƒ¨åˆ†](https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html)æœ‰è¦æ±‚ä¸èƒ½ä½¿ç”¨,é˜²æ­¢å‡ºç°æ ·å¼é”™è¯¯,
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210430101700628.png" alt="image-20210430101700628" style="zoom: 80%;" />
>
>3. è§£å†³:å°†å±æ€§é€‰æ‹©å™¨åˆ é™¤å³å¯

### â…§-è§£å†³flexå¸ƒå±€ä¸­ space-betweenæ–¹æ³•çš„æ’ç‰ˆé—®é¢˜

>flexå¸ƒå±€ justify-contentï¼šspace-betweenï¼› è§£å†³æœ€åä¸€æ’æ•°é‡ä¸å¤Ÿè‡ªåŠ¨å‘ä¸¤ç«¯æ’åˆ—é—®é¢˜
>
>1. é—®é¢˜å›¾ç¤º:
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210507095120687.png" alt="image-20210507095120687" style="zoom: 50%;" />
>
>2. åˆ†æ:flex å¸ƒå±€ä¸¤ç«¯å¯¹é½å½“æœ€åä¸€æ’æ•°é‡ä¸å¤Ÿæ—¶ï¼Œä¼šå‡ºç°ä»¥ä¸‹å¸ƒå±€æƒ…å†µ
>
>   ![image-20210507095230974](å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210507095230974.png)
>
>3. è§£å†³æ–¹æ³•1:çˆ¶çº§æ·»åŠ afterä¼ªç±»æ³•
>
>   <img src="å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸­çš„å›¾ç‰‡/image-20210507095349825.png" alt="image-20210507095349825" style="zoom: 67%;" />
>
>   ps:è¿™ç§è§£å†³æ–¹æ¡ˆåªé€‚åˆæ¯åˆ—æœ‰`3ä¸ª`çš„åˆ†å¸ƒæƒ…å†µï¼Œå¦‚æœå¸ƒå±€æ¯åˆ—æœ‰4ä¸ªï¼Œ5ä¸ª,å°±éœ€è¦è§£å†³æ–¹æ³•2
>
>4. è§£å†³æ–¹æ³•2:ä½¿ç”¨gridæ …æ ¼å¸ƒå±€,æ­¤å¤„ä¸è¯¦è§£,åªå°†è§£å†³æ–¹æ¡ˆæŒ‡å‡º,æœ‰éœ€è¦çš„ç›´æ¥ç™¾åº¦æœç´¢`ä½¿ç”¨gridæ …æ ¼å¸ƒå±€`å³å¯





